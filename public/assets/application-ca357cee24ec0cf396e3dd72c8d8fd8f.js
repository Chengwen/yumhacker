function render(e,t){return JST["templates/"+e](t)}function capitalize(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}function getCurrentLocation(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,function(e){e.code===e.PERMISSION_DENIED?alert("Enable location services to continue."):e.code===e.POSITION_UNAVAILABLE||e.code===e.TIMEOUT?alert("Location is unavailable."):alert("Could not get location.")},{timeout:1e4,enableHighAccuracy:!0}):alert("Current location not supported.")}!function(e,t,n,i,r,o,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=i,a.parentNode.insertBefore(o,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46610205-1","yumhacker.com"),ga("send","pageview"),function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=St[e]={};return ut.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(ut.acceptData(e)){var o,a,s=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(r||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[s]=tt.pop()||ut.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),a=c[u],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[ut.camelCase(n)]=i),"string"==typeof n?(o=a[n],null==o&&(o=a[ut.camelCase(n)])):o=a,o}}function o(e,t,n){if(ut.acceptData(e)){var i,r,o=e.nodeType,a=o?ut.cache:e,l=o?e[ut.expando]:ut.expando;if(a[l]){if(t&&(i=n?a[l]:a[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in i?t=[t]:(t=ut.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!s(i):!ut.isEmptyObject(i))return}(n||(delete a[l].data,s(a[l])))&&(o?ut.cleanData([e],!0):ut.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Ct.test(i)?ut.parseJSON(i):i}catch(o){}ut.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return X.activeElement}catch(e){}}function h(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Wt.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function p(e){var t=zt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)ut._data(n,"globalEval",!t||ut._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,i,r,o=ut._data(e),a=ut._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)ut.event.add(t,n,s[n][i])}a.data&&(a.data=ut.extend({},a.data))}}function b(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){r=ut._data(t);for(i in r.events)ut.removeEvent(t,i,r.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(e,n){var i,r,o=0,a=typeof e.getElementsByTagName!==R?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==R?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||ut.nodeName(r,n)?a.push(r):ut.merge(a,_(r,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],a):a}function w(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Sn.length;r--;)if(t=Sn[r]+n,t in e)return t;return i}function k(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function T(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ut._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&k(i)&&(o[a]=ut._data(i,"olddisplay",j(i.nodeName)))):o[a]||(r=k(i),(n&&"none"!==n||!r)&&ut._data(i,"olddisplay",r?n:ut.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function S(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ut.css(e,n+Tn[o],!0,r)),i?("content"===n&&(a-=ut.css(e,"padding"+Tn[o],!0,r)),"margin"!==n&&(a-=ut.css(e,"border"+Tn[o]+"Width",!0,r))):(a+=ut.css(e,"padding"+Tn[o],!0,r),"padding"!==n&&(a+=ut.css(e,"border"+Tn[o]+"Width",!0,r)));return a}function E(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=hn(e),a=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=dn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=a&&(ut.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(a?"border":"content"),i,o)+"px"}function j(e){var t=X,n=wn[e];return n||(n=N(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=N(e,t),un.detach()),wn[e]=n),n}function N(e,t){var n=ut(t.createElement(e)).appendTo(t.body),i=ut.css(n[0],"display");return n.remove(),i}function A(e,t,n,i){var r;if(ut.isArray(t))ut.each(t,function(t,r){n||En.test(e)?i(e,r):A(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ut.type(t))i(e,t);else for(r in t)A(e+"["+r+"]",t[r],n,i)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(dt)||[];if(ut.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function r(s){var l;return o[s]=!0,ut.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Un;return r(t.dataTypes[0])||!o["*"]&&r("*")}function H(e,n){var i,r,o=ut.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&ut.extend(!0,e,i),e}function D(e,n,i){for(var r,o,a,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function P(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function I(){return setTimeout(function(){Kn=t}),Kn=ut.now()}function $(e,t,n){for(var i,r=(oi[t]||[]).concat(oi["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function L(e,t,n){var i,r,o=0,a=ri.length,s=ut.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Kn||I(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||I(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(Y(u,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,e,u,c.opts))return i;return ut.map(u,$,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Y(e,t){var n,i,r,o,a;for(n in e)if(i=ut.camelCase(n),r=t[i],o=e[n],ut.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=ut.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function W(e,t,n){var i,r,o,a,s,l,c=this,u={},h=e.style,d=e.nodeType&&k(e),p=ut._data(e,"fxshow");n.queue||(s=ut._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ut.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ti.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show"))continue;u[i]=p&&p[i]||ut.style(e,i)}if(!ut.isEmptyObject(u)){p?"hidden"in p&&(d=p.hidden):p=ut._data(e,"fxshow",{}),o&&(p.hidden=!d),d?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(i in u)a=$(d?p[i]:0,i,c),i in p||(p[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function V(e,t,n,i,r){return new V.prototype.init(e,t,n,i,r)}function U(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Tn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function B(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,J,R=typeof t,G=e.location,X=e.document,Z=X.documentElement,Q=e.jQuery,K=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,rt=tt.push,ot=tt.slice,at=tt.indexOf,st=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,J)},ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_t=/^-ms-/,wt=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},kt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(Tt(),ut.ready())},Tt=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",kt,!1),e.removeEventListener("load",kt,!1)):(X.detachEvent("onreadystatechange",kt),e.detachEvent("onload",kt))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),mt.test(r[1])&&ut.isPlainObject(n))for(r in n)ut.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=X.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return ot.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ut.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],i=o[r],s!==i&&(u&&i&&(ut.isPlainObject(i)||(n=ut.isArray(i)))?(n?(n=!1,a=e&&ut.isArray(e)?e:[]):a=e&&ut.isPlainObject(e)?e:{},s[r]=ut.extend(u,a,i)):i!==t&&(s[r]=i));return s},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=K),t&&e.jQuery===ut&&(e.jQuery=Q),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!X.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(z.resolveWith(X,[ut]),ut.fn.trigger&&ut(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[st.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=mt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ut.buildFragment([e],t,r),r&&ut(r).remove(),ut.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&gt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_t,"ms-").replace(wt,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ut.merge(i,"string"==typeof e?[e]:e):rt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(at)return at.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return it.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ut.isFunction(e)?(i=ot.call(arguments,2),r=function(){return e.apply(n||this,i.concat(ot.call(arguments)))},r.guid=e.guid=e.guid||ut.guid++,r):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===ut.type(i)){o=!0;for(l in i)ut.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,ut.isFunction(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),ut.ready.promise=function(t){if(!z)if(z=ut.Deferred(),"complete"===X.readyState)setTimeout(ut.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",kt,!1),e.addEventListener("load",kt,!1);else{X.attachEvent("onreadystatechange",kt),e.attachEvent("onload",kt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Tt(),ut.ready()}}()}return z.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),J=ut(X),function(e,t){function n(e,t,n,i){var r,o,a,s,l,c,u,h,f,m;if((t?t.ownerDocument||t:L)!==M&&F(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(D&&!i){if(r=bt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&k.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!P||!P.test(e))){if(h=u=$,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?h=u.replace(xt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[$]=!0,e}function o(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function h(){}function d(e,t){var i,r,o,a,s,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){(!i||(r=ht.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=dt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ct," ")}),s=s.slice(i.length));for(a in S.filter)!(r=vt[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?n.error(e):U(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=W++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=Y+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[$]||(t[$]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||T,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[$]&&(i=v(i)),o&&!o[$]&&(o=v(o,a)),r(function(r,a,s,l){var c,u,h,d=[],p=[],f=a.length,m=r||_(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,d,e,s,l),y=n?o||(r?e:f||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=g(y,p),i(c,[],s,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?nt.call(r,h):d[u])>-1&&(r[c]=!(a[c]=h))}}else y=g(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):et.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return nt.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=S.relative[e[s].type])u=[f(m(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[$]){for(i=++s;r>i&&!S.relative[e[i].type];i++);return v(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}u.push(n)}return m(u)}function b(e,t){var i=0,o=t.length>0,a=e.length>0,s=function(r,s,l,c,u){var h,d,p,f=[],m=0,v="0",y=r&&[],b=null!=u,_=N,w=r||a&&S.find.TAG("*",u&&s.parentNode||s),x=Y+=null==_?1:Math.random()||.1;for(b&&(N=s!==M&&s,T=i);null!=(h=w[v]);v++){if(a&&h){for(d=0;p=e[d++];)if(p(h,s,l)){c.push(h);break}b&&(Y=x,T=++i)}o&&((h=!p&&h)&&m--,r&&y.push(h))}if(m+=v,o&&v!==m){for(d=0;p=t[d++];)p(y,f,s,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Q.call(c));f=g(f)}et.apply(c,f),b&&!r&&f.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&(Y=x,N=_),y};return o?r(s):s}function _(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function w(e,t,n,i){var r,o,a,s,l,c=d(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===t.nodeType&&D&&S.relative[o[1].type]){if(t=(S.find.ID(a.matches[0].replace(kt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=vt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!S.relative[s=a.type]);)if((l=S.find[s])&&(i=l(a.matches[0].replace(kt,Tt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return et.apply(n,i),n;break}}return j(e,c)(i,t,!D,n,pt.test(e)),n}var x,k,T,S,C,E,j,N,A,F,M,H,D,P,q,O,I,$="sizzle"+-new Date,L=e.document,Y=0,W=0,V=i(),U=i(),B=i(),z=!1,J=function(e,t){return e===t?(z=!0,0):0},R=typeof t,G=1<<31,X={}.hasOwnProperty,Z=[],Q=Z.pop,K=Z.push,et=Z.push,tt=Z.slice,nt=Z.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),st="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",lt=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ht=new RegExp("^"+rt+"*,"+rt+"*"),dt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),pt=new RegExp(rt+"*[+~]"),ft=new RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),mt=new RegExp(lt),gt=new RegExp("^"+at+"$"),vt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,xt=/'|\\/g,kt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{et.apply(Z=tt.call(L.childNodes),L.childNodes),Z[L.childNodes.length].nodeType}catch(St){et={apply:Z.length?function(e,t){K.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}E=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=n.support={},F=n.setDocument=function(e){var t=e?e.ownerDocument||e:L,n=t.defaultView;return t!==M&&9===t.nodeType&&t.documentElement?(M=t,H=t.documentElement,D=!E(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){F()}),k.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=o(function(e){return H.appendChild(e).id=$,!t.getElementsByName||!t.getElementsByName($).length}),k.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==R&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(kt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(kt,Tt);return function(e){var n=typeof e.getAttributeNode!==R&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==R?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==R&&D?t.getElementsByClassName(e):void 0},q=[],P=[],(k.qsa=yt.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+rt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&P.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(k.matchesSelector=yt.test(O=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(e){k.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),q.push("!=",lt)}),P=P.length&&new RegExp(P.join("|")),q=q.length&&new RegExp(q.join("|")),I=yt.test(H.contains)||H.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=H.compareDocumentPosition?function(e,n){if(e===n)return z=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!k.sortDetached&&n.compareDocumentPosition(e)===i?e===t||I(L,e)?-1:n===t||I(L,n)?1:A?nt.call(A,e)-nt.call(A,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,o=e.parentNode,a=n.parentNode,l=[e],c=[n];if(e===n)return z=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:A?nt.call(A,e)-nt.call(A,n):0;if(o===a)return s(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===L?-1:c[r]===L?1:0},t):M},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&F(e),t=t.replace(ft,"='$1']"),!(!k.matchesSelector||!D||q&&q.test(t)||P&&P.test(t)))try{var i=O.call(e,t);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,M,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==M&&F(e),I(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==M&&F(e);var i=S.attrHandle[n.toLowerCase()],r=i&&X.call(S.attrHandle,n.toLowerCase())?i(e,n,!D):t;return r===t?k.attributes||!D?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(z=!k.detectDuplicates,A=!k.sortStable&&e.slice(0),e.sort(J),z){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},C=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=C(t);return n},S=n.selectors={cacheLength:50,createPseudo:r,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,Tt),e[3]=(e[4]||e[5]||"").replace(kt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&mt.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==R&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.slice(0,i.length+1)===i+"-":!1):!0
}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[$]||(g[$]={}),c=u[e]||[],p=c[0]===Y&&c[1],d=c[0]===Y&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[Y,p,d];break}}else if(y&&(c=(t[$]||(t[$]={}))[e])&&c[0]===Y)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[$]||(h[$]={}))[e]=[Y,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,t){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[$]?o(t):o.length>1?(i=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=o(e,t),a=r.length;a--;)i=nt.call(e,r[a]),e[i]=!(n[i]=r[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=j(e.replace(ct,"$1"));return i[$]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(kt,Tt).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return _t.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);h.prototype=S.filters=S.pseudos,S.setFilters=new h,j=n.compile=function(e,t){var n,i=[],r=[],o=B[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=y(t[n]),o[$]?i.push(o):r.push(o);o=B(e,b(r,i))}return o},k.sortStable=$.split("").sort(J).join("")===$,k.detectDuplicates=z,F(),k.sortDetached=o(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var St={};ut.Callbacks=function(e){e="string"==typeof e?St[e]||i(e):ut.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],h=function(t){for(r=e.memory&&t,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function i(t){ut.each(t,function(t,n){var r=ut.type(n);"function"===r?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=t,h(r))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var i;(i=ut.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||o&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,o){var a=o[0],s=ut.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,i):i}},r={};return i.pipe=i.then,ut.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ot.call(arguments),a=o.length,s=1!==a||e&&ut.isFunction(e.promise)?a:0,l=1===s?e:ut.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ot.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&ut.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),ut.support=function(t){var n,i,r,o,a,s,l,c,u,h=X.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*")||[],i=h.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;o=X.createElement("select"),s=o.appendChild(X.createElement("option")),r=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==h.className,t.leadingWhitespace=3===h.firstChild.nodeType,t.tbody=!h.getElementsByTagName("tbody").length,t.htmlSerialize=!!h.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!r.value,t.optSelected=s.selected,t.enctype=!!X.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}r=X.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=X.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=X.getElementsByTagName("body")[0];a&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===h.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(X.createElement("div")),i.style.cssText=h.style.cssText=o,i.style.marginRight=i.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof h.style.zoom!==R&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=h=r=i=null)}),n=o=a=s=i=r=null,t}({});var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var i,r,o=null,s=0,l=this[0];if(e===t){if(this.length&&(o=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(i=l.attributes;s<i.length;s++)r=i[s].name,0===r.indexOf("data-")&&(r=ut.camelCase(r.slice(5)),a(l,r,o[r]));ut._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?a(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ut._data(e,t),n&&(!i||ut.isArray(n)?i=ut._data(e,t,ut.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),i=n.length,r=n.shift(),o=ut._queueHooks(e,t),a=function(){ut.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=ut.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=ut._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var jt,Nt,At=/[\t\r\n\f]/g,Ft=/\r/g,Mt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i,Dt=/^(?:checked|selected)$/i,Pt=ut.support.getSetAttribute,qt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ut.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?ut.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ut(this),o=e.match(dt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===R||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=ut.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ut(this).val()):e,null==o?o="":"number"==typeof o?o+="":ut.isArray(o)&&(o=ut.map(o,function(e){return null==e?"":e+""})),i=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=ut.valHooks[o.type]||ut.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Ft,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=ut.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=ut.inArray(ut(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===R?ut.prop(e,n,i):(1===a&&ut.isXMLDoc(e)||(n=n.toLowerCase(),r=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?Nt:jt)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=ut.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[r++];)i=ut.propFix[n]||n,ut.expr.match.bool.test(n)?qt&&Pt||!Dt.test(n)?e[i]=!1:e[ut.camelCase("default-"+n)]=e[i]=!1:ut.attr(e,n,""),e.removeAttribute(Pt?n:i)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ut.isXMLDoc(e),a&&(n=ut.propFix[n]||n,o=ut.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:-1}}}}),Nt={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):qt&&Pt||!Dt.test(n)?e.setAttribute(!Pt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=qt&&Pt||!Dt.test(n)?function(e,n,r){var o=ut.expr.attrHandle[n],a=r?t:(ut.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return ut.expr.attrHandle[n]=o,a}:function(e,n,i){return i?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),qt&&Pt||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):jt&&jt.set(e,t,n)}}),Pt||(jt={set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},ut.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:jt.set},ut.attrHooks.contenteditable={set:function(e,t,n){jt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ot=/^(?:input|select|textarea)$/i,It=/^key/,$t=/^(?:mouse|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Yt=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,u,h,d,p,f,m,g,v=ut._data(e);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=ut.guid++),(s=v.events)||(s=v.events={}),(h=v.handle)||(h=v.handle=function(e){return typeof ut===R||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(dt)||[""],l=n.length;l--;)a=Yt.exec(n[l])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),f&&(u=ut.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=ut.event.special[f]||{},d=ut.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ut.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,r,m,h)!==!1||(e.addEventListener?e.addEventListener(f,h,!1):e.attachEvent&&e.attachEvent("on"+f,h))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ut.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,h,d,p,f,m,g=ut.hasData(e)&&ut._data(e);if(g&&(u=g.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(s=Yt.exec(t[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(h=ut.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,h.remove&&h.remove.call(e,a));l&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ut.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ut.event.remove(e,p+t[c],n,i,!0);ut.isEmptyObject(u)&&(delete g.handle,ut._removeData(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,h,d,p=[r||X],f=lt.call(n,"type")?n.type:n,m=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=h=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Lt.test(f+ut.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[ut.expando]?n:new ut.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:ut.makeArray(i,[n]),u=ut.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!ut.isWindow(r)){for(c=u.delegateType||f,Lt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(r.ownerDocument||X)&&p.push(h.defaultView||h.parentWindow||e)}for(d=0;(l=p[d++])&&!n.isPropagationStopped();)n.type=d>1?c:u.bindType||f,a=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&ut.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!o&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),i)===!1)&&ut.acceptData(r)&&s&&r[f]&&!ut.isWindow(r)){h=r[s],h&&(r[s]=null),ut.event.triggered=f;try{r[f]()}catch(g){}ut.event.triggered=t,h&&(r[s]=h)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,i,r,o,a,s=[],l=ot.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ut.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((ut.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?ut(i,this).index(c)>=0:ut.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ut.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=$t.test(r)?this.mouseHooks:It.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ut.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ut.event.trigger(r,null,t):ut.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===R&&(e[i]=null),e.detachEvent(i,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ut.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;i&&!ut._data(i,"submitBubbles")&&(ut.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),ut.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return ut().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ut(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ut.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var Wt=/^.[^:#\[\.,]*$/,Vt=/^(?:parents|prev(?:Until|All))/,Ut=ut.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;r>t;t++)if(ut.contains(i[t],this))return!0}));for(t=0;r>t;t++)ut.find(e,i[t],n);return n=this.pushStack(r>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&Ut.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Ut.test(e)||"string"!=typeof e?ut(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ut.unique(o):o)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),i=ut.merge(this.get(),n);return this.pushStack(ut.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)
}},function(e,t){ut.fn[e]=function(n,i){var r=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ut.filter(i,r)),this.length>1&&(Bt[e]||(r=ut.unique(r)),Vt.test(e)&&(r=r.reverse())),this.pushStack(r)}}),ut.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ut.find.matchesSelector(i,e)?[i]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!ut(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Jt=/ jQuery\d+="(?:null|\d+)"/g,Rt=new RegExp("<(?:"+zt+")[\\s/>]","i"),Gt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zt=/<([\w:]+)/,Qt=/<tbody/i,Kt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(X),cn=ln.appendChild(X.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ut.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ut.cleanData(_(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&v(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Jt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Rt.test(e)||!ut.support.leadingWhitespace&&Gt.test(e)||sn[(Zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ut.cleanData(_(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ut(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,r,o,a,s,l,c=0,u=this.length,h=this,d=u-1,p=e[0],f=ut.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ut.support.checkClone)&&nn.test(p))return this.each(function(i){var r=h.eq(i);f&&(e[0]=p.call(this,i,r.html())),r.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=ut.map(_(l,"script"),m),o=a.length;u>c;c++)r=l,c!==d&&(r=ut.clone(r,!0,!0),o&&ut.merge(a,_(r,"script"))),t.call(this[c],r,c);if(o)for(s=a[a.length-1].ownerDocument,ut.map(a,g),c=0;o>c;c++)r=a[c],rn.test(r.type||"")&&!ut._data(r,"globalEval")&&ut.contains(s,r)&&(r.src?ut._evalUrl(r.src):ut.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,i=0,r=[],o=ut(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ut(o[i])[t](n),rt.apply(r,n.get());return this.pushStack(r)}}),ut.extend({clone:function(e,t,n){var i,r,o,a,s,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Rt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(i=_(o),s=_(e),a=0;null!=(r=s[a]);++a)i[a]&&b(r,i[a]);if(t)if(n)for(s=s||_(e),i=i||_(o),a=0;null!=(r=s[a]);a++)y(r,i[a]);else y(e,o);return i=_(o,"script"),i.length>0&&v(i,!l&&_(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,h=e.length,d=p(t),f=[],m=0;h>m;m++)if(o=e[m],o||0===o)if("object"===ut.type(o))ut.merge(f,o.nodeType?[o]:o);else if(Kt.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(Zt.exec(o)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+o.replace(Xt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!ut.support.leadingWhitespace&&Gt.test(o)&&f.push(t.createTextNode(Gt.exec(o)[0])),!ut.support.tbody)for(o="table"!==l||Qt.test(o)?"<table>"!==u[1]||Qt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ut.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ut.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(t.createTextNode(o));for(s&&d.removeChild(s),ut.support.appendChecked||ut.grep(_(f,"input"),w),m=0;o=f[m++];)if((!i||-1===ut.inArray(o,i))&&(a=ut.contains(o.ownerDocument,o),s=_(d.appendChild(o),"script"),a&&v(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(e,t){for(var n,i,r,o,a=0,s=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[a]);a++)if((t||ut.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?ut.event.remove(n,i):ut.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==R?n.removeAttribute(s):n[s]=null,tt.push(r))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,hn,dn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+ht+")(.*)$","i"),bn=new RegExp("^("+ht+")(?!px)[a-z%]+$","i"),_n=new RegExp("^([+-])=("+ht+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},kn={letterSpacing:0,fontWeight:400},Tn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,i){var r,o,a={},s=0;if(ut.isArray(n)){for(o=hn(e),r=n.length;r>s;s++)a[n[s]]=ut.css(e,n[s],!1,o);return a}return i!==t?ut.style(e,n,i):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){k(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=x(c,l)),s=ut.cssHooks[n]||ut.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];if(a=typeof i,"string"===a&&(o=_n.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ut.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||ut.cssNumber[l]||(i+="px"),ut.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var o,a,s,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=x(e.style,l)),s=ut.cssHooks[n]||ut.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=dn(e,n,r)),"normal"===a&&n in kn&&(a=kn[n]),""===i||i?(o=parseFloat(a),i===!0||ut.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(hn=function(t){return e.getComputedStyle(t,null)},dn=function(e,n,i){var r,o,a,s=i||hn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):X.documentElement.currentStyle&&(hn=function(e){return e.currentStyle},dn=function(e,n,i){var r,o,a,s=i||hn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(r=c.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(ut.css(e,"display"))?ut.swap(e,xn,function(){return E(e,t,i)}):E(e,t,i):void 0},set:function(e,n,i){var r=i&&hn(e);return S(e,n,i?C(e,t,i,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,r),r):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},dn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=dn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Tn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(ut.cssHooks[e+t].set=S)});var Cn=/%20/g,En=/\[\]$/,jn=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&An.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(jn,"\r\n")}}):{name:t.name,value:n.replace(jn,"\r\n")}}).get()}}),ut.param=function(e,n){var i,r=[],o=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){o(this.name,this.value)});else for(i in e)A(i,e[i],n,o);return r.join("&").replace(Cn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Fn,Mn,Hn=ut.now(),Dn=/\?/,Pn=/#.*$/,qn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$n=/^(?:GET|HEAD)$/,Ln=/^\/\//,Yn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=ut.fn.load,Vn={},Un={},Bn="*/".concat("*");try{Mn=G.href}catch(zn){Mn=X.createElement("a"),Mn.href="",Mn=Mn.href}Fn=Yn.exec(Mn.toLowerCase())||[],ut.fn.load=function(e,n,i){if("string"!=typeof e&&Wn)return Wn.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&ut.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(r?ut("<div>").append(ut.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:In.test(Fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ut.ajaxSettings),t):H(ut.ajaxSettings,e)},ajaxPrefilter:F(Vn),ajaxTransport:F(Un),ajax:function(e,n){function i(e,n,i,r){var o,h,y,b,w,k=n;2!==_&&(_=2,l&&clearTimeout(l),u=t,s=r||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(b=D(d,x,i)),b=P(d,b,x,o),o?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ut.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(ut.etag[a]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=b.state,h=b.data,y=b.error,o=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(n||k)+"",o?m.resolveWith(p,[h,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,d,o?h:y]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,d]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,h,d=ut.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ut(p):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!h)for(h={};t=On.exec(s);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return _||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Mn)+"").replace(Pn,"").replace(Ln,Fn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ut.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(r=Yn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Fn[1]&&r[2]===Fn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Fn[3]||("http:"===Fn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ut.param(d.data,d.traditional)),M(Vn,d,n,x),2===_)return x;c=d.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$n.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Dn.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=qn.test(a)?a.replace(qn,"$1_="+Hn++):a+(Dn.test(a)?"&":"?")+"_="+Hn++)),d.ifModified&&(ut.lastModified[a]&&x.setRequestHeader("If-Modified-Since",ut.lastModified[a]),ut.etag[a]&&x.setRequestHeader("If-None-Match",ut.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Bn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)x.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===_))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](d[o]);if(u=M(Un,d,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{_=1,u.send(y,i)}catch(k){if(!(2>_))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,i,r,o){return ut.isFunction(i)&&(o=o||r,r=i,i=t),ut.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||ut("head")[0]||X.documentElement;return{send:function(t,r){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Jn=[],Rn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jn.pop()||ut.expando+"_"+Hn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Rn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Rn,"$1"+o):n.jsonp!==!1&&(n.url+=(Dn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ut.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Jn.push(o)),s&&ut.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Gn,Xn,Zn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&q()||O()}:q,Xn=ut.ajaxSettings.xhr(),ut.support.cors=!!Xn&&"withCredentials"in Xn,Xn=ut.support.ajax=!!Xn,Xn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,h;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=ut.noop,Qn&&delete Gn[a]),r)4!==l.readyState&&l.abort();else{h={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){r||o(-1,p)}h&&o(s,u,h,c)},n.async?4===l.readyState?setTimeout(i):(a=++Zn,Qn&&(Gn||(Gn={},ut(e).unload(Qn)),Gn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Kn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[W],oi={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=ni.exec(t),o=r&&r[3]||(ut.cssNumber[e]?"":"px"),a=(ut.cssNumber[e]||"px"!==o&&+i)&&ni.exec(ut.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,ut.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};ut.Animation=ut.extend(L,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),ut.Tween=V,V.prototype={constructor:V,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ut.cssNumber[n]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,n=V.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(U(t,!0),e,i,r)}}),ut.fn.extend({fadeTo:function(e,t,n,i){return this.filter(k).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ut.isEmptyObject(e),o=ut.speed(t,n,i),a=function(){var t=L(this,ut.extend({},e),o);(r||ut._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ut.timers,a=ut._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ut.timers,a=i?i.length:0;for(n.finish=!0,ut.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ut.speed=function(e,t,n){var i=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return i.duration=ut.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=V.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,i=0;for(Kn=ut.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ut.fx.stop(),Kn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){ei||(ei=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(ei),ei=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,ut.contains(n,o)?(typeof o.getBoundingClientRect!==R&&(r=o.getBoundingClientRect()),i=B(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ut.offset={setOffset:function(e,t,n){var i=ut.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=ut(e),s=a.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ut.inArray("auto",[l,c])>-1,h={},d={};u?(d=a.position(),r=d.top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+r),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):a.css(h)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ut.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(i,"marginTop",!0),left:t.left-n.left-ut.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Z;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||Z})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ut.fn[e]=function(r){return ut.access(this,function(e,r,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?ut(a).scrollLeft():o,i?o:ut(a).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){ut.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return ut.access(this,function(n,i,r){var o;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?ut.css(n,i,s):ut.style(n,i,r,s)},n,a?r:t,a,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,u,h;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var d=i.data("ujs:submit-button");d&&(a.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);h={type:r||"GET",data:a,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&s!==t&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,a=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1
},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,_=Array.isArray,w=Object.keys,x=o.bind,k=function(e){return e instanceof k?e:this instanceof k?(this._wrapped=e,void 0):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.5.2";var T=k.each=k.forEach=function(e,t,i){if(null!=e)if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a=k.keys(e),r=0,o=a.length;o>r;r++)if(t.call(i,e[a[r]],a[r],e)===n)return};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(T(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var S="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(S);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}if(T(e,function(s,l,c){l=a?a[--o]:--o,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(S);return n},k.find=k.detect=function(e,t,n){var i;return C(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(T(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(T(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)};var C=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(T(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},k.invoke=function(e,t){var n=s.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?void 0:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>i.computed&&(i={value:e,computed:a})}),i.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a<i.computed&&(i={value:e,computed:a})}),i.value},k.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return arguments.length<2||n?e[k.random(e.length-1)]:k.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var i=E(t);return k.pluck(k.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var j=function(e){return function(t,n,i){var r={},o=null==n?k.identity:E(n);return T(t,function(n,a){var s=o.call(i,n,a,t);e(r,s,n)}),r}};k.groupBy=j(function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)}),k.indexBy=j(function(e,t,n){e[t]=n}),k.countBy=j(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=null==n?k.identity:E(n);for(var r=n.call(i,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(i,e[s])<r?o=s+1:a=s}return o},k.toArray=function(e){return e?k.isArray(e)?s.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},k.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var N=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(T(e,function(e){k.isArray(e)||k.isArguments(e)?t?a.apply(n,e):N(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return N(e,t,[])},k.without=function(e){return k.difference(e,s.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,o=[],a=[];return T(r,function(n,i){(t?i&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(e[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=s.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=l.apply(i,s.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var A=function(){};k.bind=function(e,t){var n,i;if(x&&e.bind===x)return x.apply(e,s.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));A.prototype=e.prototype;var r=new A;A.prototype=null;var o=e.apply(r,n.concat(s.call(arguments)));return Object(o)===o?o:r}},k.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},k.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(s.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,a=null,o=e.apply(i,r)};return function(){var c=new Date;s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,0>=u?(clearTimeout(a),a=null,s=c,o=e.apply(i,r)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},k.debounce=function(e,t,n){var i,r,o,a,s;return function(){o=this,r=arguments,a=new Date;var l=function(){var c=new Date-a;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r)),s}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=F(e[l],t[l],n,i)););}else{for(var h in e)if(k.has(e,h)&&(l++,!(u=k.has(t,h)&&F(e[h],t[h],n,i))))break;if(u){for(h in t)if(k.has(t,h)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return F(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=_||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=k.invert(M.escape);var H={escape:new RegExp("["+k.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(M.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(H[e],function(t){return M[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){T(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),I.call(this,n.apply(k,e))}})};var D=0;k.uniqueId=function(e){var t=++D+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(O,function(e){return"\\"+q[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},k.chain=function(e){return k(e).chain()};var I=function(e){return this._chain?k(e).chain():e};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],I.call(this,n)}}),T(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return I.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){{var e,t=this,n=t.Backbone,i=[],r=(i.push,i.slice);i.splice}e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var i=this,r=o.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,a,s,c,u,h,d;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:o.keys(this._events),c=0,u=s.length;u>c;c++)if(e=s[c],a=this._events[e]){if(this._events[e]=i=[],t||n)for(h=0,d=a.length;d>h;h++)r=a[h],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,n,this),(r||o.isEmpty(e._events))&&delete this._listeningTo[a];return this}},s=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(s.test(n)){for(var o=n.split(s),a=0,l=o.length;l>a;a++)e[t].apply(e,[o[a]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};o.each(u,function(e,t){a[t]=function(t,n,i){var r=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=o.uniqueId("l"));return r[a]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}}),a.bind=a.on,a.unbind=a.off,o.extend(e,a);var h=e.Model=function(e,t){var n=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=o.defaults({},n,o.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,a,s,l,c,u,h;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;a=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],o.isEqual(h[i],t)||s.push(i),o.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete h[i]:h[i]=t;if(!l){s.length&&(this._pending=!0);for(var d=0,p=s.length;p>d;d++)this.trigger("change:"+s[d],this,h[s[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)o.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},q(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,a,s=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=o.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=o.extend(i||{},t)),o.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},q(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),a=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),a},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;q(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||P();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,o.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];o.each(d,function(e){h.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var p=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},f={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};o.extend(p.prototype,a,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,m))},remove:function(e,t){var n=!o.isArray(e);e=n?[e]:o.clone(e),t||(t={});var i,r,a,s;for(i=0,r=e.length;r>i;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s));return n?e[0]:e},set:function(e,t){t=o.defaults({},t,f),t.parse&&(e=this.parse(e,t));var n=!o.isArray(e);e=n?e?[e]:[]:o.clone(e);var i,r,a,s,l,c,u,d=t.at,p=this.model,m=this.comparator&&null==d&&t.sort!==!1,g=o.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},_=t.add,w=t.merge,x=t.remove,k=!m&&_&&x?[]:!1;for(i=0,r=e.length;r>i;i++){if(l=e[i],a=l instanceof h?s=l:l[p.prototype.idAttribute],c=this.get(a))x&&(b[c.cid]=!0),w&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),m&&!u&&c.hasChanged(g)&&(u=!0)),e[i]=c;else if(_){if(s=e[i]=this._prepareModel(l,t),!s)continue;v.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)}k&&k.push(c||s)}if(x){for(i=0,r=this.length;r>i;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||k&&k.length)if(m&&(u=!0),this.length+=v.length,null!=d)for(i=0,r=v.length;r>i;i++)this.models.splice(d+i,0,v[i]);else{k&&(this.models.length=0);var T=k||v;for(i=0,r=T.length;r>i;i++)this.models.push(T[i])}if(u&&this.sort({silent:!0}),!t.silent){for(i=0,r=v.length;r>i;i++)(s=v[i]).trigger("add",s,this,t);(u||k&&k.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return r.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},q(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(e,t,r){r.wait&&n.add(e,r),i&&i(e,t,r)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(g,function(e){p.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var v=["groupBy","countBy","sortBy"];o.each(v,function(e){p.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var y=e.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];o.extend(y.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),n){var i=t.match(b),r=i[1],a=i[2];n=o.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var n=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=x[t];o.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(i.url||(a.url=o.result(n,"url")||P()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",i.emulateJSON&&(a.data._method=r);
var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&w&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(o.extend(a,i));return n.trigger("request",n,l,i),l};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,C=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(k.prototype,a,{initialize:function(){},route:function(t,n,i){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(o){var a=r._extractParameters(t,o);i&&i.apply(r,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(T,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var j=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,F=/msie [\w.]+/,M=/\/$/,H=/[?#].*$/;j.started=!1,o.extend(j.prototype,a,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(N,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=o.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=F.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(A,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location,s=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&a.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!j.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(H,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new j;var D=function(e,t){var n,i=this;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};h.extend=p.extend=k.extend=y.extend=j.extend=D;var P=function(){throw new Error('A "url" property or function must be specified')},q=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),function(e,t){"use strict";var n="",i="?",r="function",o="undefined",a="object",s="major",l="model",c="name",u="type",h="vendor",d="version",p="architecture",f="console",m="mobile",g="tablet",v={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},y={rgx:function(){for(var e,n,i,s,l,c,u,h=0,d=arguments;h<d.length;h+=2){var p=d[h],f=d[h+1];if(typeof e===o){e={};for(s in f)l=f[s],typeof l===a?e[l[0]]=t:e[l]=t}for(n=i=0;n<p.length;n++)if(c=p[n].exec(this.getUA())){for(s=0;s<f.length;s++)u=c[++i],l=f[s],typeof l===a&&l.length>0?2==l.length?e[l[0]]=typeof l[1]==r?l[1].call(this,u):l[1]:3==l.length?e[l[0]]=typeof l[1]!==r||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):t:u?l[1].call(this,u,l[2]):t:4==l.length&&(e[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):t):e[l]=u?u:t;break}if(c)break}return e},str:function(e,n){for(var r in n)if(typeof n[r]===a&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(v.has(n[r][o],e))return r===i?t:r}else if(v.has(n[r],e))return r===i?t:r;return e}},b={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},_={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[c,d,s],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[c,"Opera"],d,s],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[c,d,s],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[c,"IE"],d,s],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[c,"Yandex"],d,s],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[c,/_/g," "],d,s],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[c,d,s],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[c,"Dolphin"],d,s],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[c,"Chrome"],d,s],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[d,s,[c,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[d,s,c],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[c,[s,y.str,b.browser.oldsafari.major],[d,y.str,b.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[c,d,s],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[c,"Netscape"],d,s],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[c,d,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",v.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[p,v.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,h,[u,g]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,l,[u,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,h,[u,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,l,[u,m]],[/\((bb10);\s(\w+)/i],[[h,"BlackBerry"],l,[u,m]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[h,"Asus"],l,[u,g]],[/(sony)\s(tablet\s[ps])/i],[h,l,[u,g]],[/(nintendo)\s([wids3u]+)/i],[h,l,[u,f]],[/((playstation)\s[3portablevi]+)/i],[[h,"Sony"],l,[u,f]],[/(sprint\s(\w+))/i],[[h,y.str,b.device.sprint.vendor],[l,y.str,b.device.sprint.model],[u,m]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[l,/_/g," "],[u,m]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[h,"Motorola"],l,[u,m]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[h,"Motorola"],l,[u,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[h,"Samsung"],l,[u,g]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],l,[u,m]],[/(sie)-(\w+)*/i],[[h,"Siemens"],l,[u,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],l,[u,m]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[h,"Acer"],l,[u,g]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],l,[u,g]],[/((nexus\s4))/i,/((nexus\s5))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[h,"LG"],l,[u,m]],[/android.+((IdeaTab[A-Za-z0-9\-\s]+))/i],[[h,"Lenovo"],l,[u,g]],[/(mobile|tablet);.+rv\:.+gecko\//i],[u,h,l]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]+).*(gecko)/i],[d,c]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[d,y.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,y.str,b.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[c,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],d],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,d],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[c,[d,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[c,d]]},w=function(t){var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:n);return this instanceof w?(this.getBrowser=function(){return y.rgx.apply(this,_.browser)},this.getCPU=function(){return y.rgx.apply(this,_.cpu)},this.getDevice=function(){return y.rgx.apply(this,_.device)},this.getEngine=function(){return y.rgx.apply(this,_.engine)},this.getOS=function(){return y.rgx.apply(this,_.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),void 0):new w(t).getResult()};if(typeof exports!==o)typeof module!==o&&module.exports&&(exports=module.exports=w),exports.UAParser=w;else if(e.UAParser=w,typeof define===r&&define.amd&&define(function(){return w}),typeof e.jQuery!==o){var x=e.jQuery,k=new w;x.ua=k.getResult(),x.ua.get=function(){return k.getUA()},x.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var n in t)x.ua[n]=t[n]}}}(this),Backbone.View.prototype.remove=function(){return _.each(this,function(e){e instanceof Backbone.View&&e.remove()}),this.$el.remove(),this.stopListening(),this};var routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/,pathStripper=/[?#].*$/,History=Backbone.History;Backbone.History.prototype.start=function(e){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,i=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(rootStripper,"/"),i&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,this.search=this.location.search;var r=this.location,o=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!o)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&r.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}return this.options.silent?void 0:this.loadUrl()},Backbone.History.prototype.checkUrl=function(){var e=this.getFragment(),t=this.location.search;return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment&&t===this.search?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},Backbone.History.prototype.loadUrl=function(e){return e=this.fragment=this.getFragment(e),this.search=this.location.search,_.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},Backbone.History.prototype.navigate=function(e,t){if(!History.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));e=e.replace(pathStripper,"");var i=n.replace(/^.*\?/,"?");if(this.fragment!==e||this.search!==i){if(this.fragment=e,this.search=i,""===e&&"/"!==n&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},Backbone.history=new History,function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=s.raw?t:r(t);return e.isFunction(n)?n(i):i}var a=/\+/g,s=e.cookie=function(r,a,l){if(void 0!==a&&!e.isFunction(a)){if(l=e.extend({},s.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return document.cookie=[t(r),"=",i(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){h=o(v,a);break}r||void 0===(v=o(v))||(h[g]=v)}return h};s.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e){e.deparam=function(t,n){var i={},r={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var a,s=o.split("="),l=decodeURIComponent(s[0]),c=i,u=0,h=l.split("]["),d=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[d])?(h[d]=h[d].replace(/\]$/,""),h=h.shift().split("[").concat(h),d=h.length-1):d=0,2===s.length)if(s=decodeURIComponent(s[1]),n&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==r[s]?r[s]:s),d)for(;d>=u;u++)l=""===h[u]?c.length:h[u],a=c[l]=d>u?c[l]||(h[u+1]&&isNaN(h[u+1])?{}:[]):s,c=a;else e.isArray(i[l])?i[l].push(s):i[l]=void 0!==i[l]?[i[l],s]:s;else l&&(i[l]=n?void 0:"")}),i}}(jQuery),function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function r(e){_(e),a(this,e)}function o(e){var t=f(e),n=t.year||0,i=t.month||0,r=t.week||0,o=t.day||0,a=t.hour||0,s=t.minute||0,l=t.second||0,c=t.millisecond||0;this._input=e,this._milliseconds=+c+1e3*l+6e4*s+36e5*a,this._days=+o+7*r,this._months=+i+12*n,this._data={},this._bubble()}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function s(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,i){var r,o,a=t._milliseconds,s=t._days,l=t._months;a&&e._d.setTime(+e._d+a*n),(s||l)&&(r=e.minute(),o=e.hour()),s&&e.date(e.date()+s*n),l&&e.month(e.month()+l*n),a&&!i&&tt.updateOffset(e),(s||l)&&(e.minute(r),e.hour(o))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function d(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&a++;return a+o}function p(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=qt[e]||Ot[t]||t}return e}function f(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=p(n),t&&(i[t]=e[n]));return i}function m(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}tt[t]=function(r,o){var a,s,l=tt.fn._lang[t],c=[];if("number"==typeof r&&(o=r,r=e),s=function(e){var t=tt().utc().set(i,e);return l.call(tt.fn._lang,t,r||"")},null!=o)return s(o);for(a=0;n>a;a++)c.push(s(a));return c}}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function v(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function y(e){return b(e)?366:365}function b(e){return 0===e%4&&0!==e%100||0===e%400}function _(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[at]<0||e._a[at]>11?at:e._a[st]<1||e._a[st]>v(e._a[ot],e._a[at])?st:e._a[lt]<0||e._a[lt]>23?lt:e._a[ct]<0||e._a[ct]>59?ct:e._a[ut]<0||e._a[ut]>59?ut:e._a[ht]<0||e._a[ht]>999?ht:-1,e._pf._overflowDayOfYear&&(ot>t||t>st)&&(t=st),e._pf.overflow=t)}function w(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function x(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function k(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t.abbr=e,dt[e]||(dt[e]=new i),dt[e].set(t),dt[e]}function S(e){delete dt[e]}function C(e){var t,n,i,r,o=0,a=function(e){if(!dt[e]&&pt)try{require("./lang/"+e)}catch(t){}return dt[e]};if(!e)return tt.fn._lang;if(!u(e)){if(n=a(e))return n;e=[e]}for(;o<e.length;){for(r=k(e[o]).split("-"),t=r.length,i=k(e[o+1]),i=i?i.split("-"):null;t>0;){if(n=a(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&d(r,i,!0)>=t-1)break;t--}o++}return tt.fn._lang}function E(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,i=e.match(vt);for(t=0,n=i.length;n>t;t++)i[t]=Yt[i[t]]?Yt[i[t]]:E(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function N(e,t){return e.isValid()?(t=A(t,e.lang()),It[t]||(It[t]=j(t)),It[t](e)):e.lang().invalidDate()}function A(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(yt.lastIndex=0;i>=0&&yt.test(e);)e=e.replace(yt,n),yt.lastIndex=0,i-=1;return e}function F(e,t){var n;switch(e){case"DDDD":return wt;case"YYYY":case"GGGG":case"gggg":return xt;case"YYYYY":case"GGGGG":case"ggggg":return kt;case"S":case"SS":case"SSS":case"DDD":return _t;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return St;case"a":case"A":return C(t._l)._meridiemParse;case"X":return jt;case"Z":case"ZZ":return Ct;case"T":return Et;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;default:return n=new RegExp($(I(e.replace("\\","")),"i"))}}function M(e){var t=(Ct.exec(e)||[])[0],n=(t+"").match(Ht)||["-",0,0],i=+(60*n[1])+g(n[2]);return"+"===n[0]?-i:i}function H(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":null!=t&&(r[at]=g(t)-1);break;case"MMM":case"MMMM":i=C(n._l).monthsParse(t),null!=i?r[at]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[st]=g(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=g(t));break;case"YY":r[ot]=g(t)+(g(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":r[ot]=g(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[lt]=g(t);break;case"m":case"mm":r[ct]=g(t);break;case"s":case"ss":r[ut]=g(t);break;case"S":case"SS":case"SSS":case"SSSS":r[ht]=g(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=M(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function D(e){var t,n,i,r,o,a,s,l,c,u,h=[];if(!e._d){for(i=q(e),e._w&&null==e._a[st]&&null==e._a[at]&&(o=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[ot]?tt().weekYear():e._a[ot]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=G(o(a.GG),a.W||1,a.E,4,1):(l=C(e._l),c=null!=a.d?B(a.d,l):null!=a.e?parseInt(a.e,10)+l._week.dow:0,u=parseInt(a.w,10)||1,null!=a.d&&c<l._week.dow&&u++,s=G(o(a.gg),u,c,l._week.doy,l._week.dow)),e._a[ot]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(r=null==e._a[ot]?i[ot]:e._a[ot],e._dayOfYear>y(r)&&(e._pf._overflowDayOfYear=!0),n=U(r,0,e._dayOfYear),e._a[at]=n.getUTCMonth(),e._a[st]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=h[t]=i[t];for(;7>t;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];h[lt]+=g((e._tzm||0)/60),h[ct]+=g((e._tzm||0)%60),e._d=(e._useUTC?U:V).apply(null,h)}}function P(e){var t;e._d||(t=f(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],D(e))}function q(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function O(e){e._a=[],e._pf.empty=!0;var t,n,i,r,o,a=C(e._l),s=""+e._i,l=s.length,c=0;for(i=A(e._f,a).match(vt)||[],t=0;t<i.length;t++)r=i[t],n=(F(r,e).exec(s)||[])[0],n&&(o=s.substr(0,s.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),c+=n.length),Yt[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),H(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-c,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[lt]<12&&(e._a[lt]+=12),e._isPm===!1&&12===e._a[lt]&&(e._a[lt]=0),D(e),_(e)}function I(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function $(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function L(e){var t,n,i,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(r=0;r<e._f.length;r++)o=0,t=a({},e),w(t),t._f=e._f[r],O(t),x(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||i>o)&&(i=o,n=t));a(e,n||t)}function Y(e){var t,n=e._i,i=Nt.exec(n);if(i){for(e._pf.iso=!0,t=4;t>0;t--)if(i[t]){e._f=Ft[t-1]+(i[6]||" ");break}for(t=0;4>t;t++)if(Mt[t][1].exec(n)){e._f+=Mt[t][0];break}Ct.exec(n)&&(e._f+="Z"),O(e)}else e._d=new Date(n)}function W(t){var n=t._i,i=ft.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?Y(t):u(n)?(t._a=n.slice(0),D(t)):h(n)?t._d=new Date(+n):"object"==typeof n?P(t):t._d=new Date(n)}function V(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function B(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function z(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function J(e,t,n){var i=rt(Math.abs(e)/1e3),r=rt(i/60),o=rt(r/60),a=rt(o/24),s=rt(a/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",rt(a/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=n,z.apply({},l)}function R(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=tt(e).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function G(e,t,n,i,r){var o,a,s=new Date(Date.UTC(e,0)).getUTCDay();return n=null!=n?n:r,o=r-s+(s>i?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:y(e-1)+a}}function X(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&w(e),null===t?tt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),tt.isMoment(t)?(e=a({},t),e._d=new Date(+t._d)):n?u(n)?L(e):O(e):W(e),new r(e))}function Z(e,t){tt.fn[e]=tt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),tt.updateOffset(this),this):this._d["get"+n+t]()}}function Q(e){tt.duration.fn[e]=function(){return this._data[e]}}function K(e,t){tt.duration.fn["as"+e]=function(){return+this/t}}function et(e){var t=!1,n=tt;"undefined"==typeof ender&&(this.moment=e?function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:tt)}for(var tt,nt,it="2.4.0",rt=Math.round,ot=0,at=1,st=2,lt=3,ct=4,ut=5,ht=6,dt={},pt="undefined"!=typeof module&&module.exports,ft=/^\/?Date\((\-?\d+)/i,mt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,gt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,vt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,_t=/\d{1,3}/,wt=/\d{3}/,xt=/\d{1,4}/,kt=/[+\-]?\d{1,6}/,Tt=/\d+/,St=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ct=/Z|[\+\-]\d\d:?\d\d/i,Et=/T/i,jt=/[\+\-]?\d+(\.\d{1,3})?/,Nt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,At="YYYY-MM-DDTHH:mm:ssZ",Ft=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Mt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ht=/([\+\-]|\d\d)/gi,Dt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Pt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ot={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},It={},$t="DDD w W M D d".split(" "),Lt="M D H h m s w W".split(" "),Yt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return g(this.milliseconds()/100)},SS:function(){return l(g(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(e/60),2)+":"+l(g(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(g(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Wt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];$t.length;)nt=$t.pop(),Yt[nt+"o"]=n(Yt[nt],nt);for(;Lt.length;)nt=Lt.pop(),Yt[nt+nt]=t(Yt[nt],2);for(Yt.DDDD=t(Yt.DDD,3),a(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=tt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]
},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=tt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return R(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tt=function(t,n,i,r){return"boolean"==typeof i&&(r=i,i=e),X({_i:t,_f:n,_l:i,_strict:r,_isUTC:!1})},tt.utc=function(t,n,i,r){var o;return"boolean"==typeof i&&(r=i,i=e),o=X({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:n,_strict:r}).utc()},tt.unix=function(e){return tt(1e3*e)},tt.duration=function(e,t){var n,i,r,a=tt.isDuration(e),s="number"==typeof e,l=a?e._input:s?{}:e,c=null;return s?t?l[t]=e:l.milliseconds=e:(c=mt.exec(e))?(n="-"===c[1]?-1:1,l={y:0,d:g(c[st])*n,h:g(c[lt])*n,m:g(c[ct])*n,s:g(c[ut])*n,ms:g(c[ht])*n}):(c=gt.exec(e))&&(n="-"===c[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},l={y:r(c[2]),M:r(c[3]),d:r(c[4]),h:r(c[5]),m:r(c[6]),s:r(c[7]),w:r(c[8])}),i=new o(l),a&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},tt.version=it,tt.defaultFormat=At,tt.updateOffset=function(){},tt.lang=function(e,t){var n;return e?(t?T(k(e),t):null===t?(S(e),e="en"):dt[e]||C(e),n=tt.duration.fn._lang=tt.fn._lang=C(e),n._abbr):tt.fn._lang._abbr},tt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},tt.isMoment=function(e){return e instanceof r},tt.isDuration=function(e){return e instanceof o},nt=Wt.length-1;nt>=0;--nt)m(Wt[nt]);for(tt.normalizeUnits=function(e){return p(e)},tt.invalid=function(e){var t=tt.utc(0/0);return null!=e?a(t._pf,e):t._pf.userInvalidated=!0,t},tt.parseZone=function(e){return tt(e).parseZone()},a(tt.fn=r.prototype,{clone:function(){return tt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return N(tt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&d(this._a,(this._isUTC?tt.utc(this._a):tt(this._a)).toArray())>0:!1},parsingFlags:function(){return a({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=N(this,e||tt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),c(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),c(this,n,-1),this},diff:function(e,t,n){var i,r,o=this._isUTC?tt(e).zone(this._offset||0):tt(e).local(),a=6e4*(this.zone()-o.zone());return t=p(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-tt(this).startOf("month")-(o-tt(o).startOf("month")))/i,r-=6e4*(this.zone()-tt(this).startOf("month").zone()-(o.zone()-tt(o).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:s(r)},from:function(e,t){return tt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(tt(),e)},calendar:function(){var e=this.diff(tt().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return b(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=B(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),tt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=p(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+tt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+tt(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+tt(e).startOf(t)},min:function(e){return e=tt.apply(null,arguments),this>e?this:e},max:function(e){return e=tt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=M(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&c(this,tt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?tt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(e){var t=rt((tt(this).startOf("day")-tt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=R(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=R(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=R(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=p(e),this[e]()},set:function(e,t){return e=p(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),nt=0;nt<Dt.length;nt++)Z(Dt[nt].toLowerCase().replace(/s$/,""),Dt[nt]);Z("year","FullYear"),tt.fn.days=tt.fn.day,tt.fn.months=tt.fn.month,tt.fn.weeks=tt.fn.week,tt.fn.isoWeeks=tt.fn.isoWeek,tt.fn.toJSON=tt.fn.toISOString,a(tt.duration.fn=o.prototype,{_bubble:function(){var e,t,n,i,r=this._milliseconds,o=this._days,a=this._months,l=this._data;l.milliseconds=r%1e3,e=s(r/1e3),l.seconds=e%60,t=s(e/60),l.minutes=t%60,n=s(t/60),l.hours=n%24,o+=s(n/24),l.days=o%30,a+=s(o/30),l.months=a%12,i=s(a/12),l.years=i},weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*g(this._months/12)},humanize:function(e){var t=+this,n=J(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=tt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=tt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:tt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"}});for(nt in Pt)Pt.hasOwnProperty(nt)&&(K(nt,Pt[nt]),Q(nt.toLowerCase()));K("Weeks",6048e5),tt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},tt.lang("en",{ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),pt?(module.exports=tt,et(!0)):"function"==typeof define&&define.amd?define("moment",function(t,n,i){return i.config().noGlobal!==!0&&et(i.config().noGlobal===e),tt}):et()}.call(this),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var r,o=i.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp",c="",u="vertical"===i.vars.direction,h=i.vars.reverse,d=i.vars.itemWidth>0,p="fade"===i.vars.animation,f=""!==i.vars.asNavFor,m={},g=!0;e.data(t,"flexslider",i),m={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&m.controlNav.setup(),i.vars.directionNav&&m.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t){e.preventDefault();var n=0>t?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(n,i.vars.pauseOnAction)}),i.vars.pausePlay&&m.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&m.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),f&&m.asNav.setup(),s&&i.vars.touch&&m.touch(),(!p||p&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",m.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(o+"active-slide").eq(i.currentItem).addClass(o+"active-slide"),a?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),r=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),r=n.index(),a=n.offset().left-e(i).scrollLeft();0>=a&&n.hasClass(o+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(o+"active-slide")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var t,n,r="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",a=1;if(i.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+r+'"></ol>'),i.pagingCount>1)for(var s=0;s<i.pagingCount;s++){if(n=i.slides.eq(s),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+a+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(t+='<span class="'+o+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),a++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(o+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===c&&(c=t.type),m.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,m.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(o+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===c&&(c=t.type),m.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+o+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(o+"active").eq(i.animatingTo).addClass(o+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):m.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li><a class="'+o+'prev" href="#">'+i.vars.prevText+'</a></li><li><a class="'+o+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+o+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+o+"direction-nav li a",i)),m.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===c||c===t.type)&&(n=e(this).hasClass(o+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=t.type),m.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+o+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+o+"pauseplay a",i)),m.pausePlay.update(i.vars.slideshow?o+"pause":o+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(o+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=t.type),m.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(o+"pause").addClass(o+"play").html(i.vars.playText):i.pausePlay.removeClass(o+"play").addClass(o+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),g=u?i.h:i.w,y=Number(new Date),_=e.touches[0].pageX,w=e.touches[0].pageY,m=d&&h&&i.animatingTo===i.last?0:d&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*g:(i.currentSlide+i.cloneOffset)*g,c=u?w:_,f=u?_:w,t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",r,!1))}function n(e){_=e.touches[0].pageX,w=e.touches[0].pageY,v=u?c-w:c-_,b=u?Math.abs(v)<Math.abs(_-f):Math.abs(v)<Math.abs(w-f);var t=500;(!b||Number(new Date)-y>t)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(v/=0===i.currentSlide&&0>v||i.currentSlide===i.last&&v>0?Math.abs(v)/g+2:1),i.setProps(m+v,"setTouch")))}function r(){if(t.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!b&&null!==v){var e=h?-v:v,o=e>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(o)&&(Number(new Date)-y<550&&Math.abs(e)>50||Math.abs(e)>g/2)?i.flexAnimate(o,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",r,!1),c=null,f=null,v=null,m=null}function o(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),x=0,g=u?i.h:i.w,y=Number(new Date),m=d&&h&&i.animatingTo===i.last?0:d&&h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:h?(i.last-i.currentSlide+i.cloneOffset)*g:(i.currentSlide+i.cloneOffset)*g)}function s(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,r=-e.translationY;return x+=u?r:i,v=x,b=u?Math.abs(x)<Math.abs(-i):Math.abs(x)<Math.abs(-r),e.detail===e.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){t._gesture.stop()}),void 0):((!b||Number(new Date)-y>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(v=x/(0===n.currentSlide&&0>x||n.currentSlide===n.last&&x>0?Math.abs(x)/g+2:1)),n.setProps(m+v,"setTouch"))),void 0)}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==v){var n=h?-v:v,i=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-y<550&&Math.abs(n)>50||Math.abs(n)>g/2)?t.flexAnimate(i,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,f=null,v=null,m=null,x=0}}var c,f,m,g,v,y,b=!1,_=0,w=0,x=0;a?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",o,!1),t._slider=i,t.addEventListener("MSGestureChange",s,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!i.animating&&i.is(":visible")&&(d||i.doMath(),p?m.smoothHeight():d?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&m.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||p){var t=p?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),r=i.animatingTo;switch(t){case"animate":n.flexAnimate(r,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(m.pauseInvisible.visProp=e[t]+"Hidden");if(m.pauseInvisible.visProp){var n=m.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){m.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){return document[m.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(r),r=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(t,n,r,a,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),f&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||r)&&i.is(":visible")){if(f&&a){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&m.sync("animate"),i.vars.controlNav&&m.controlNav.active(),d||i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&m.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)s?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var g,v,y,b=u?i.slides.filter(":first").height():i.computedW;d?(g=i.vars.itemMargin,y=(i.itemW+g)*i.move*i.animatingTo,v=y>i.limit&&1!==i.visible?i.limit:y):v=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?h?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?h?0:(i.count+1)*b:h?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(v,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){i.wrapup(b)})):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&m.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){p||d||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&g&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&m.pausePlay.update("play"),i.syncExists&&m.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&m.pausePlay.update("pause"),i.syncExists&&m.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=f?i.pagingCount-1:i.last;return t?!0:f&&i.currentItem===i.count-1&&0===e&&"prev"===i.direction?!0:f&&0===i.currentItem&&e===i.pagingCount-1&&"next"!==i.direction?!1:e!==i.currentSlide||f?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&e===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===e&&"next"===i.direction?!1:!0:!1},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var r=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,r=function(){if(d)return"setTouch"===t?e:h&&i.animatingTo===i.last?0:h?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return h?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return h?e:e;case"jumpEnd":return h?e:i.count*e;case"jumpStart":return h?i.count*e:e;default:return e}}();return-1*r+"px"}();i.transitions&&(r=u?"translate3d(0,"+r+",0)":"translate3d("+r+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=r,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",r)},i.setup=function(t){if(p)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(s?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&m.smoothHeight();else{var n,r;"init"===t&&(i.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,h&&(r=e.makeArray(i.slides).reverse(),i.slides=e(r),i.container.empty().append(i.slides))),i.vars.animationLoop&&!d&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(i.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(i.slides.last().clone().addClass("clone").attr("aria-hidden","true")),m.uniqueID(i.slides.first().clone().addClass("clone")).appendTo(i.container),m.uniqueID(i.slides.last().clone().addClass("clone")).prependTo(i.container)),i.newSlides=e(i.vars.selector,i),n=h?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!d?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&m.smoothHeight()},"init"===t?100:0))}d||i.slides.removeClass(o+"active-slide").eq(i.currentSlide).addClass(o+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,r=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),d?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=r?r*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(r-1))/r:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),d||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!d||i.pagingCount>i.controlNav.length?m.controlNav.update("add"):("remove"===t&&!d||i.pagingCount<i.controlNav.length)&&(d&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),m.controlNav.update("remove",i.last))),i.vars.directionNav&&m.directionNav.update()},i.addSlide=function(t,n){var r=e(t);i.count+=1,i.last=i.count-1,u&&h?void 0!==n?i.slides.eq(i.count-n).after(r):i.container.prepend(r):void 0!==n?i.slides.eq(n).before(r):i.container.append(r),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&h?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},m.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",r=n.find(i);1===r.length&&t.allowOneSlide===!0||0===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),Comment=Backbone.Model.extend({urlRoot:"/api/comments"}),CurrentUser=new(Backbone.Model.extend({urlRoot:"/api/users",initialize:function(){$.cookie("current_user")&&this.set(JSON.parse($.cookie("current_user")))},logged_in:function(){return $.cookie("current_user")?!0:!1}})),EndorseButton=Backbone.Model.extend({urlRoot:"/api/users/endorsing",toggle:function(){CurrentUser.get("id")?this.get("user_endorsing")?this.unendorse():this.endorse():this.showAuthenticationOpts()},unendorse:function(){var e=this;$.ajax({url:"/api/users/endorse",method:"DELETE",dataType:"json",data:{establishment_id:this.get("establishment_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},endorse:function(){var e=this;$.ajax({url:"/api/users/endorse",method:"POST",dataType:"json",data:{establishment_id:this.get("establishment_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},showAuthenticationOpts:function(){$("#login_modal_container").fadeIn("60")
}}),Establishment=Backbone.Model.extend({urlRoot:"/api/establishments",initialize:function(){this.assignHours(),this.setFormattedAttributes(),this.on("sync",this.assignHours),this.on("sync",this.setFormattedAttributes)},assignHours:function(){this.hours=new HoursCollection(this.get("hours"))},setFormattedAttributes:function(){if(this.get("price")){var e="";_.each(_.range(this.get("price")),function(){e+="$"}),this.set("price_symbol",e)}if(this.get("website")){var t=this.get("website").replace(/\/$/,"").replace(/^http.*\//,"").replace(/^www[.]/,"");this.set("formatted_url",t)}else this.set("formatted_url",""),this.set("website","")}}),EstablishmentSearch=new(Backbone.Model.extend({defaults:{location_name:"San Francisco, CA"},initialize:function(){$.cookie("establishment_search")&&this.set(JSON.parse($.cookie("establishment_search")));var e=$.deparam(window.location.search.slice(1));"undefined"!=typeof e.lat&&this.set("lat",Number(e.lat)),"undefined"!=typeof e.lng&&this.set("lng",Number(e.lng)),this.on("change",this.writeCookie,this)},writeCookie:function(){$.cookie("establishment_search",JSON.stringify(this.attributes),{path:"/"})},predicate:function(){var e={lat:this.get("lat"),lng:this.get("lng")};return e}})),Filter=new(Backbone.Model.extend({defaults:{radius:5,from_followed:!1},initialize:function(){$.cookie("filter")&&this.set(JSON.parse($.cookie("filter")));var e=$.deparam(window.location.search.slice(1));if("undefined"!=typeof e.radius&&this.set("radius",e.radius),"undefined"!=typeof e.from_followed){var t=e.from_followed,n=!("true"!==t&&1!=t);this.set("from_followed",n)}this.on("change",this.writeCookie,this)},writeCookie:function(){$.cookie("filter",JSON.stringify(this.attributes),{path:"/"})},predicate:function(){var e={radius:this.get("radius"),from_followed:this.get("from_followed")};return e}})),FollowButton=Backbone.Model.extend({urlRoot:"/api/users/following",toggle:function(){CurrentUser.get("id")?this.get("following")?this.unfollow():this.follow():this.showAuthenticationOpts()},unfollow:function(){var e=this;$.ajax({url:"/api/users/follow",method:"DELETE",dataType:"json",data:{user_id:this.get("user_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},follow:function(){var e=this;$.ajax({url:"/api/users/follow",method:"POST",dataType:"json",data:{user_id:this.get("user_id")},success:function(t){e.set(t)},error:function(e,t){console.log(t)}})},showAuthenticationOpts:function(){$("#login_modal_container").fadeIn("60")}}),FollowedEndorser=Backbone.Model,Geolocation=Backbone.Model.extend({url:"/api/geolocations"}),GoogleMap=Backbone.Model.extend({defaults:{options:{scrollwheel:!1,center:new google.maps.LatLng(37.7749295,-122.4194155),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP}}}),Hours=Backbone.Model,MainSearch=new(Backbone.Model.extend({defaults:{lat:37.7749295,lng:-122.4194155,location_name:"San Francisco, CA"},initialize:function(){$.cookie("main_search")&&this.set(JSON.parse($.cookie("main_search")));var e=$.deparam(window.location.search.slice(1));"undefined"!=typeof e.lat&&this.set("lat",Number(e.lat)),"undefined"!=typeof e.lng&&this.set("lng",Number(e.lng)),this.on("change",this.writeCookie,this)},writeCookie:function(){$.cookie("main_search",JSON.stringify(this.attributes),{path:"/"})},predicate:function(){var e={lat:this.get("lat"),lng:this.get("lng")};return e}})),MapMarker=Backbone.Model.extend({initialize:function(e,t,n){var i=new google.maps.LatLng(e.get("lat"),e.get("lng")),r=24,o=34.286,a=r*n;this.marker=new google.maps.Marker({map:t,position:i,title:e.get("name"),icon:{origin:new google.maps.Point(a,0),size:new google.maps.Size(r,o),url:"http://i1324.photobucket.com/albums/u608/jenniferdewalt/dev/map_markers_zpsdd19adfe.png"}}),10!=n&&google.maps.event.addListener(this.marker,"click",function(){App.navigate(e.get("path"),{trigger:!0})})},remove:function(){this.marker.setMap(null)}}),Photo=Backbone.Model.extend({urlRoot:"/api/photos",readFile:function(e,t){var n=new FileReader;n.onload=$.proxy(function(n){var i=n.target.result,r=i.replace(/^data:/,"").replace(/;base64.*/,""),o=i.replace(/^.*base64,/,"");this.set({original_filename:e.name,content_type:r,image_data:o}),this.save({},{success:t})},this),n.readAsDataURL(e)}}),User=Backbone.Model.extend({urlRoot:"/api/users",initialize:function(){this.on("sync",this.assignUrls)},assignUrls:function(){this.set("url","/"+this.get("path")),this.set({endorsements_url:this.get("url")+"/endorsements",following_url:this.get("url")+"/following",followers_url:this.get("url")+"/followers"})}}),CommentCollection=Backbone.Collection.extend({model:Comment,url:"/api/comments",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.comments},comparator:function(e,t){return e.get("created_at")<t.get("created_at")}}),EndorsementCollection=Backbone.Collection.extend({model:Establishment,url:"/api/users/endorsements",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.establishments}}),EndorsersCollection=Backbone.Collection.extend({model:User,url:"/api/establishments/endorsers",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.endorsers}}),EstablishmentCollection=Backbone.Collection.extend({model:Establishment,url:"/api/establishments",initialize:function(){var e=$.deparam(window.location.search.slice(1));this.requested_page=e.page?Number(e.page):1},predicate:function(){return{page:this.requested_page}},parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.establishments}}),EstablishmentSuggestionCollection=Backbone.Collection.extend({model:Establishment,url:"/api/establishments/search",parse:function(e){return e.establishments}}),FollowedEndorserCollection=Backbone.Collection.extend({model:FollowedEndorser}),FollowedUsersCollection=Backbone.Collection.extend({model:User,url:"/api/users/followed_users",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.followed_users}}),FollowersCollection=Backbone.Collection.extend({model:User,url:"/api/users/followers",parse:function(e){return this.current_page=e.current_page,this.per_page=e.per_page,this.total_pages=e.total_pages,this.offset=e.offset,this.total=e.total,e.followers}}),GeolocationCollection=Backbone.Collection.extend({model:Geolocation,url:"/api/geolocations"}),HoursCollection=Backbone.Collection.extend({model:Hours,comparator:"open_in_minutes"}),PhotoCollection=Backbone.Collection.extend({model:Photo,url:"/api/photos",parse:function(e){return e.photos}}),PreviewPhotoCollection=Backbone.Collection.extend({model:Photo,url:"/api/photos/preview_photos",parse:function(e){return e.photos}}),UserCollection=Backbone.Collection.extend({model:User,url:"/api/users",parse:function(e){return e.users}}),UserFacebookFriendsCollection=Backbone.Collection.extend({model:User,url:"/api/users/find_facebook_friends",parse:function(e){return e.friends}}),UserSuggestionCollection=Backbone.Collection.extend({model:User,url:"/api/users/search",parse:function(e){return e.users}}),function(){this.JST||(this.JST={}),this.JST["templates/application/authentication_options"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='inner_modal card'>\n    <a class='cancel'>X</a>\n\n    <h1>YumHacker</h1>\n    <p>Find restaurants recommended by people you trust.</p>\n\n    <div class='btn_container'>\n        <a href=\"/users/sign_in\" class='btn text'>Sign In</a>\n        <a href=\"/users/sign_up\" class='btn text'>Sign Up</a>\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/contact"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'contact_container\'>\n    <h3>Comments, questions, feedback?</h3>\n\n    <div class=\'card border\'>\n        <a href="mailto:hello@yumhacker.com" target="_blank">hello@yumhacker.com</a>\n        <a href="https://twitter.com/YumHacker" target="_blank">Twitter</a>\n        <a href="https://github.com/jendewalt/yumhacker" target="_blank">GitHub</a>\n    </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/endorse_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("user_endorsing")?__p.push("\n    <a class='endorse_btn btn endorsing text'>Unendorse</a>\n"):__p.push("\n    <a class='endorse_btn btn not_endorsing text'>Endorse</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/filter"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='main_filter'>\n    <div id='radius_container' class='option'>\n        <label for='radius_select'>Distance: </label>\n        <select id='radius_select'>\n            <option class='radius_opt' value='0.25' ",(""+Filter.get("radius")=="0.25"?"selected":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">4 Blocks</option>\n            <option class='radius_opt' value='1' ",(""+Filter.get("radius")=="1"?"selected":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">1 Mile</option>\n            <option class='radius_opt' value='5' ",(""+Filter.get("radius")=="5"?"selected":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">5 Miles</option>\n            <option class='radius_opt' value='10' ",(""+Filter.get("radius")=="10"?"selected":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">10 Miles</option>\n            <option class='radius_opt' value='20' ",(""+Filter.get("radius")=="20"?"selected":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),">20 Miles</option>\n        </select>\n    </div>\n\n    "),CurrentUser.logged_in()&&__p.push("\n        <div id='from_followed_container' class='option'>\n            <input id='from_followed' type='checkbox' ",(""+(Filter.get("from_followed")?"checked":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," >\n                     \n            <label class='small' for='from_followed'>Show only people I'm following</label>\n        </div>\n    "),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/follow_button"]=function(obj){var __p=[];with(obj||{})__p.push(""),get("following")?__p.push("\n    <a class='follow_btn btn following text'>Unfollow</a>\n"):__p.push("\n    <a class='follow_btn btn not_following text'>Follow</a>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/footer"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'footer_wrap\'>\n    <ul class=\'horizontal\'>\n        <li>\n            <a href="/contact">Contact</a>\n        </li>\n        <li>\n            <a href="/privacy">Privacy Policy</a>\n        </li>\n        <li>\n            <a href="/terms">Terms</a>\n        </li>\n    </ul>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/header"]=function(obj){var __p=[];with(obj||{})__p.push('<nav>\n    <a href="/" class="logo nav">YumHacker</a>\n    \n    <div id=\'establishment_search_container\'></div>\n\n    <div id="navigation_links_container">\n        <ul class=\'user_nav\'>\n            '),CurrentUser.logged_in()?__p.push('\n\n                <li>\n                    <a class="nav user img" href="/',(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"><img src="',(""+CurrentUser.get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"></a>\n                </li>\n\n                <li>\n                    <a class="nav user name" href="/',(""+CurrentUser.get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">',(""+CurrentUser.get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n                </li>\n\n                <li>\n                    <a data-method="delete" href="/users/sign_out" rel="nofollow">Sign Out</a>\n                </li>\n\n            '):__p.push('\n                \n                <li>\n                    <a href="/users/sign_in" >Sign In</a>\n                </li>\n                <li>\n                    <a href="/users/sign_up" >Sign Up</a>\n                </li>\n                \n            '),__p.push('            \n        </ul>\n    </div>\n    <br class="clear">\n</nav>\n\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/main_search"]=function(obj){var __p=[];with(obj||{})__p.push("<form id='establishment_search_form'>\n    <fieldset>        \n        <div id='location_container'>\n            <input id='location_input' type='text' value=\"",(""+MainSearch.get("location_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            <a id='nearby_btn'><img alt=\"Current location\" src=\"/assets/current_location-f224f7efcf4a8a7baef2428d0257cb5e.svg\" /></a>\n            <br class=\"clear\">\n        </div>\n        \n        <div id='submit_container'>\n            <button class='btn' type='submit' value='submit'>\n                <span><img alt=\"Search icon\" src=\"/assets/search_icon-5b59e1c1dfed2b2e7056858903439b06.svg\" /></span>\n            </button>\n        </div>\n    </fieldset>\n</form>\n\n<div id='other_search_links_container'>\n    <a href='/users/search' class='nav'>Find Friends</a>\n    <a href='/restaurants/search' class='nav'>Find a Restaurant</a>    \n</div>\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/map"]=function(obj){var __p=[];with(obj||{})__p.push('<div id="map_canvas"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<p class='no_results'>No matches found.</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/pagination"]=function(obj){var __p=[];with(obj||{}){if(__p.push("<div class='pagination_controls'>\n    <div class='pagination prev'>\n        "),1!==current_page){__p.push("\n            ");var prev_page=Number(current_page)-1;__p.push("\n            <a class='page prev' rel='",(""+prev_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Prev</a>\n        ")}if(__p.push("\n    </div>\n\n    <div class='pagination counter'>\n        <p>Page ",(""+current_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," of ",(""+(0==total_pages?1:total_pages)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," </p>\n    </div>\n\n    <div class='pagination next'>\n        "),current_page!==total_pages&&0!==total_pages){__p.push("\n            ");var next_page=Number(current_page)+1;__p.push("\n            <a class='page next' rel='",(""+next_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Next</a>\n        ")}__p.push("\n    </div>\n\n    <br class='clear'>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/privacy"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='privacy_container'>\n\n    <div class='card border'>\n        <h1>Privacy Policy</h1>\n        \n        <p>This privacy policy (&ldquo;Policy&rdquo;) describes how YumHacker and its related companies (&ldquo;Company&rdquo;) collect, use and share personal information of consumer users of this website, http://yumhacker.com (the &ldquo;Site&rdquo;). This Policy also applies to any of our other websites that post this Policy. This Policy does not apply to websites that post different statements.</p>\n\n        <h3>WHAT WE COLLECT</h3>\n\n        <p>We get information about you in a range of ways. </p>\n\n        <h3>Information You Give Us. </h3>\n\n        <p>We collect your name, email address, password and other information you directly give us on our Site.</p>\n\n        <h3>Information We Get from Others. </h3>\n\n        <p>We may get information about you from other sources. We may add this to information we get from this Site.</p>\n\n        <h3>Information Automatically Collected. </h3>\n\n        <p>We automatically log information about you and your computer. For example, when visiting our Site, we log information about your use of and actions on our Site. </p>\n\n        <h3>Cookies.</h3> \n\n        <p>We may log information using &quot;cookies.&quot; Cookies are small data files stored on your hard drive by a website. Cookies help us make our Site and your visit better. We use cookies to see which parts of our Site people use and like and to count visits to our Site.</p>\n\n        <h3>Web Beacons. </h3>\n        <p>We may log information using digital images called Web beacons on our Site or in our emails. We use Web beacons to manage cookies, count visits, and to learn what marketing works and what does not. We also use Web Beacons to tell if you open or act on our emails.</p>\n\n        <h3>USE OF PERSONAL INFORMATION</h3>\n\n        <h3>We use your personal information as follows:</h3>\n\n        <p>We use your personal information to operate, maintain, and improve our sites, products, and services. We use your personal information to respond to comments and questions and provide customer service. We use your personal information to send information including confirmations, invoices, technical notices, updates, security alerts, and support and administrative messages. We use your personal information to communicate about promotions, upcoming events, and other news about products and services offered by us and our selected partners.</p> \n\n        <h3>SHARING OF PERSONAL INFORMATION</h3>\n\n        <h3>We may share personal information as follows:</h3>\n\n        <p>We may share personal information with your consent. For example, you may let us share personal information with others for their own marketing uses. Those uses will be subject to their privacy policies. We may share personal information when we do a business deal, or negotiate a business deal, involving sale or transfer of all or a part of our business or assets. These deals can include any merger, financing, acquisition, or bankruptcy transaction or proceeding. We may share personal information for legal, protection, and safety purposes. We may share information to comply with laws. We may share information to respond to lawful requests and legal process. We may share information to protect the rights and property of YumHacker, our agents, customers, and others. This includes enforcing our agreements, policies, and terms of use. We may share information in an emergency. This includes protecting the safety of our employees and agents, our customers, or any person.  We may share information with those who need it to do work for us. We may also share aggregated and/or anonymized data with others for their own uses.</p>\n\n        <h3>INFORMATION CHOICES AND CHANGES</h3>\n\n        <p>Our marketing emails tell you how to &ldquo;opt-out.&rdquo; If you opt out, we may still send you non-marketing emails. Non-marketing emails include emails about your accounts and our business dealings with you.</p>\n\n        <p>You may send requests about personal information to our Contact Information below. You can request to change contact choices, opt-out of our sharing with others, and update your personal information.</p>\n\n        <p>You can typically remove and reject cookies from our Site with your browser settings. Many browsers are set to accept cookies until you change your settings. If you remove or reject our cookies, it could affect how our Site works for you. </p>\n\n        <h3>SECURITY OF YOUR PERSONAL INFORMATION</h3>\n\n        <p>We take steps to help protect personal information. No company can fully prevent security risks, however. Mistakes may happen. Bad actors may defeat even the best safeguards.</p>\n\n        <h3>CONTACT INFORMATION</h3>\n\n        <p>We welcome your comments or questions about this Privacy Policy. You may also contact us at: jen@yumhacker.com</p>\n\n        <h3>CHANGES TO THIS PRIVACY POLICY</h3>\n\n        <p>We may change this Privacy Policy. If we make any changes, we will change the Last Updated date below. </p>\n\n        <p>This Privacy Policy was last Updated on 1/11/2014.</p> \n        <p>This Privacy Policy was published on 1/11/2014.</p>\n\n    </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/terms"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='terms_container'>\n    <a class='toggle' data-state='canvas'>Read None Cascading Terms</a>    \n    \n    <canvas></canvas>\n    \n    <div class='boring_terms card border'>\n        <h1>Terms of Service </h1>\n\n        <p>The following terms and conditions govern all use of the yumhacker.com website and all content, services and products available at or through the website (the Website). The Website is owned and operated by YumHacker. (&ldquo;YumHacker&rdquo;). The Website is offered subject to your acceptance without modification of all of the terms and conditions contained herein and all other operating rules, policies (including, without limitation, YumHacker&rsquo;s Privacy Policy) and procedures that may be published from time to time on this Site by YumHacker (collectively, the &ldquo;Agreement&rdquo;). Please read this Agreement carefully before accessing or using the Website. By accessing or using any part of the web site, you agree to become bound by the terms and conditions of this agreement. If you do not agree to all the terms and conditions of this agreement, then you may not access the Website or use any services. If these terms and conditions are considered an offer by YumHacker, acceptance is expressly limited to these terms. </p>\n\n        <h3>Your yumhacker.com Account and Site. </h3>\n\n        <p>If you create an account on the Website, you are responsible for maintaining the security of your account, and you are fully responsible for all activities that occur under the account and any other actions taken in connection with the account. You must not describe or assign keywords to your account in a misleading or unlawful manner, including in a manner intended to trade on the name or reputation of others, and YumHacker may change or remove any description or keyword that it considers inappropriate or unlawful, or otherwise likely to cause YumHacker liability. You must immediately notify YumHacker of any unauthorized uses of your account, your account or any other breaches of security. YumHacker will not be liable for any acts or omissions by You, including any damages of any kind incurred as a result of such acts or omissions. </p>\n\n        <h3>Responsibility of Contributors. </h3>\n\n        <p>If you operate an account, comment on a account, post material to the Website, post links on the Website, or otherwise make (or allow any third party to make) material available by means of the Website (any such material, &ldquo;Content&rdquo;), You are entirely responsible for the content of, and any harm resulting from, that Content. That is the case regardless of whether the Content in question constitutes text, graphics, an audio file, or computer software. By making Content available, you represent and warrant that: the downloading, copying and use of the Content will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark or trade secret rights, of any third party; if your employer has rights to intellectual property you create, you have either (i) received permission from your employer to post or make available the Content, including but not limited to any software, or (ii) secured from your employer a waiver as to all rights in or to the Content; you have fully complied with any third-party licenses relating to the Content, and have done all things necessary to successfully pass through to end users any required terms; the Content does not contain or install any viruses, worms, malware, Trojan horses or other harmful or destructive content; the Content is not spam, is not machine- or randomly-generated, and does not contain unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing); the Content is not pornographic, does not contain threats or incite violence, and does not violate the privacy or publicity rights of any third party; your account is not getting advertised via unwanted electronic messages such as spam links on newsgroups, email lists, other accounts and web sites, and similar unsolicited promotional methods; your account is not named in a manner that misleads your readers into thinking that you are another person or company. For example, your account&rsquo;s URL or name is not the name of a person other than yourself or company other than your own; and you have, in the case of Content that includes computer code, accurately categorized and/or described the type, nature, uses and effects of the materials, whether requested to do so by YumHacker or otherwise. </p>\n\n        <p>By submitting Content to YumHacker for inclusion on your Website, you grant YumHacker a world-wide, royalty-free, and non-exclusive license to reproduce, modify, adapt and publish the Content solely for the purpose of displaying, distributing and promoting your account. If you delete Content, YumHacker will use reasonable efforts to remove it from the Website, but you acknowledge that caching or references to the Content may not be made immediately unavailable. Without limiting any of those representations or warranties, YumHacker has the right (though not the obligation) to, in YumHacker&rsquo;s sole discretion (i) refuse or remove any content that, in YumHacker&rsquo;s reasonable opinion, violates any YumHacker policy or is in any way harmful or objectionable, or (ii) terminate or deny access to and use of the Website to any individual or entity for any reason, in YumHacker&rsquo;s sole discretion. YumHacker will have no obligation to provide a refund of any amounts previously paid. </p>\n\n        <h3>Responsibility of Website Visitors. </h3>\n\n        <p>YumHacker has not reviewed, and cannot review, all of the material, including computer software, posted to the Website, and cannot therefore be responsible for that material&rsquo;s content, use or effects. By operating the Website, YumHacker does not represent or imply that it endorses the material there posted, or that it believes such material to be accurate, useful or non-harmful. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. The Website may contain content that is offensive, indecent, or otherwise objectionable, as well as content containing technical inaccuracies, typographical mistakes, and other errors. The Website may also contain material that violates the privacy or publicity rights, or infringes the intellectual property and other proprietary rights, of third parties, or the downloading, copying or use of which is subject to additional terms and conditions, stated or unstated. YumHacker disclaims any responsibility for any harm resulting from the use by visitors of the Website, or from any downloading by those visitors of content there posted. Content Posted on Other Websites. We have not reviewed, and cannot review, all of the material, including computer software, made available through the websites and webpages to which yumhacker.com links, and that link to yumhacker.com. YumHacker does not have any control over those non-yumhacker.com websites and webpages, and is not responsible for their contents or their use. By linking to a non-yumhacker.com website or webpage, YumHacker does not represent or imply that it endorses such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. YumHacker disclaims any responsibility for any harm resulting from your use of non-yumhacker.com websites and webpages. </p>\n\n        <h3>Copyright Infringement and DMCA Policy. </h3>\n\n        <p>As YumHacker asks others to respect its intellectual property rights, it respects the intellectual property rights of others. If you believe that material located on or linked to by yumhacker.com violates your copyright, you are encouraged to notify YumHacker in accordance with YumHacker&rsquo;s Digital Millennium Copyright Act (&ldquo;DMCA&rdquo;) Policy. YumHacker will respond to all such notices, including as required or appropriate by removing the infringing material or disabling all links to the infringing material. YumHacker will terminate a visitor&rsquo;s access to and use of the Website if, under appropriate circumstances, the visitor is determined to be a repeat infringer of the copyrights or other intellectual property rights of YumHacker or others. In the case of such termination, YumHacker will have no obligation to provide a refund of any amounts previously paid to YumHacker. </p>\n\n        <h3>Intellectual Property.</h3>\n\n        <p>This Agreement does not transfer from YumHacker to you any YumHacker or third party intellectual property, and all right, title and interest in and to such property will remain (as between the parties) solely with YumHacker. YumHacker, yumhacker.com, the yumhacker.com logo, and all other trademarks, service marks, graphics and logos used in connection with yumhacker.com, or the Website are trademarks or registered trademarks of YumHacker or YumHacker&rsquo;s licensors. Other trademarks, service marks, graphics and logos used in connection with the Website may be the trademarks of other third parties. Your use of the Website grants you no right or license to reproduce or otherwise use any YumHacker or third-party trademarks. </p>\n\n        <h3>Advertisements. </h3>\n\n        <p>YumHacker reserves the right to display advertisements on your account. </p>\n\n        <h3>Changes.</h3>\n\n        <p>YumHacker reserves the right, at its sole discretion, to modify or replace any part of this Agreement. It is your responsibility to check this Agreement periodically for changes. Your continued use of or access to the Website following the posting of any changes to this Agreement constitutes acceptance of those changes. YumHacker may also, in the future, offer new services and/or features through the Website (including, the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement. </p>\n\n        <h3>Termination. </h3>\n\n        <p>YumHacker may terminate your access to all or any part of the Website at any time, with or without cause, with or without notice, effective immediately. If you wish to terminate this Agreement or your yumhacker.com account (if you have one), you may simply discontinue using the Website. All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability. </p>\n\n        <h3>Disclaimer of Warranties. </h3>\n\n        <p>The Website is provided &ldquo;as is&rdquo;. YumHacker and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither YumHacker nor its suppliers and licensors, makes any warranty that the Website will be error free or that access thereto will be continuous or uninterrupted. You understand that you download from, or otherwise obtain content or services through, the Website at your own discretion and risk. </p>\n\n        <h3>Limitation of Liability. </h3>\n\n        <p>In no event will YumHacker, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement for substitute products or services; (iii) for interruption of use or loss or corruption of data; or (iv) for any amounts that exceed the fees paid by you to YumHacker under this agreement during the twelve (12) month period prior to the cause of action. YumHacker shall have no liability for any failure or delay due to matters beyond their reasonable control. The foregoing shall not apply to the extent prohibited by applicable law. </p>\n\n        <h3>General Representation and Warranty. </h3>\n\n        <p>You represent and warrant that (i) your use of the Website will be in strict accordance with the YumHacker with this Agreement and with all applicable laws and regulations (including without limitation any local laws or regulations in your country, state, city, or other governmental area, regarding online conduct and acceptable content, and including all applicable laws regarding the transmission of technical data exported from the United States or the country in which you reside) and (ii) your use of the Website will not infringe or misappropriate the intellectual property rights of any third party. </p>\n\n        <h3>Indemnification. </h3>\n\n        <p>You agree to indemnify and hold harmless YumHacker, its contractors, and its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys&rsquo; fees, arising out of your use of the Website, including but not limited to your violation of this Agreement. </p>\n\n        <h3>Miscellaneous. </h3>\n\n        <p>This Agreement constitutes the entire agreement between YumHacker and you concerning the subject matter hereof, and they may only be modified by a written amendment signed by an authorized executive of YumHacker, or by the posting by YumHacker of a revised version. Except to the extent applicable law, if any, provides otherwise, this Agreement, any access to or use of the Website will be governed by the laws of the state of California, U.S.A., excluding its conflict of law provisions, and the proper venue for any disputes arising out of or relating to any of the same will be the state and federal courts located in San Francisco County, California. Except for claims for injunctive or equitable relief or claims regarding intellectual property rights (which may be brought in any competent court without the posting of a bond), any dispute arising under this Agreement shall be finally settled in accordance with the Comprehensive Arbitration Rules of the Judicial Arbitration and Mediation Service, Inc. (&ldquo;JAMS&rdquo;) by three arbitrators appointed in accordance with such Rules. The arbitration shall take place in San Francisco, California, in the English language and the arbitral decision may be enforced in any court. The prevailing party in any action or proceeding to enforce this Agreement shall be entitled to costs and attorneys&rsquo; fees. If any part of this Agreement is held invalid or unenforceable, that part will be construed to reflect the parties&rsquo; original intent, and the remaining portions will remain in full force and effect. A waiver by either party of any term or condition of this Agreement or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof. You may assign your rights under this Agreement to any party that consents to, and agrees to be bound by, its terms and conditions; YumHacker may assign its rights under this Agreement without condition. This Agreement will be binding upon and will inure to the benefit of the parties, their successors and permitted assigns. </p>\n    </div>\n\n    <p class='mod'>This Agreement was last modified on January, 11 2013.</p>\n</div>\n");
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/throbber_small"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'throbber\'>\n    <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/application/upload_throbber"]=function(obj){var __p=[];with(obj||{})__p.push('<div class=\'throbber upload\'>\n    Uploading <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/index_comment"]=function(obj){var __p=[];with(obj||{})__p.push(""),CurrentUser.get("id")==get("user_id")&&__p.push("\n    <a class='delete_comment'>delete</a>\n"),__p.push("\n\n<div class='comment_container'>\n    <a href='/users/",(""+get("user_id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='avatar'><img class='avatar' src=\"",(""+get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\"></a>\n    \n    <div class='content_container'>\n\n        <a href='/users/",(""+get("user_id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n        <span class='comment_body'>",(""+get("body")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</span>\n    </div>\n    <div class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/index_comment_form"]=function(obj){var __p=[];with(obj||{})__p.push("<form id='comment_form'>\n    <h3>What makes ",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," awesome?</h3>\n    <input id='comment_input' class='text_input' type='text' maxlength='100' placeholder='Great burgers? Huge burritos? Friendly staff?'>\n    <button class='btn text' type='submit' value='submit'>Share</button>\n    <br class='clear'>\n    <div id='char_counter'>Characters remaining: <span>100</span></div>\n</form>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/endorsements/index_endorsement_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="endorsements_container">\n    <ul class=\'endorsements establishments_list\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/endorsements/index_establishment"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="establishment_info">\n    <a href=\'/',(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n    "),get("street_number")&&get("street")&&__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n        <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n    \n    "),get("phone")&&__p.push('\n        <p class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n   \n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n</div>\n\n<div class='endorse_btn_container'></div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/endorsements/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li>",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," isn't endorsing anything yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/establishment_hour"]=function(obj){var __p=[];with(obj||{})__p.push("<td>",(""+moment(day,"d").format("ddd")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</td>\n"),_.each(hours,function(e,t){__p.push("\n    "),Number(e.get("open_time"))===Number(e.get("close_time"))?__p.push("\n        <td>Open 24 hours</td>\n    "):__p.push("\n        <td>\n            ",(""+moment(e.get("open_time"),"HHmm").format("h:mm a")+" - "+moment(e.get("close_time"),"HHmm").format("h:mm a")+(t<hours.length-1?",":"")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\n        </td>\n    "),__p.push("\n")}),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/followed_endorser"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='user_container'>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user img' title=\"",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"><img src="',(""+get("avatar_url_thumb")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'"></a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/followed_endorser_list"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='endorsers_container'>\n    <p>Endorsed by:</p>\n    <ul class='endorsers_list'></ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_establishment"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="establishment_info">\n    <a href=\'',(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n    "),get("street_number")&&get("street")&&__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n     "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n        <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n    \n    "),get("phone")&&__p.push('\n        <p class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n\n    <div class='hours_container'></div>\n\n</div>\n\n<div class='endorse_btn_container'></div>\n<br class='clear'>\n\n"),CurrentUser.get("id")&&__p.push("\n    <div class='endorsers_wrapper'></div>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_establishment_hours"]=function(obj){var __p=[];with(obj||{})__p.push("<table></table>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li id='no_results_message'>\n    <h1>Bummer! No results found.</h1>\n    <p>Try searching in a different location or<br> \n       give one of these links a try.</p>\n\n    <div id='links_container'>\n        <a href='/users/search' class='nav'>Find Friends</a>\n        <a href='/restaurants/search' class='nav'>Endorse a Restaurant</a>    \n    </div>\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/pagination"]=function(obj){var __p=[];with(obj||{}){if(__p.push("<div class='pagination_controls'>\n    <div class='pagination prev'>\n        "),1!==current_page){__p.push("\n            ");var prev_page=Number(current_page)-1;__p.push("\n            <a class='page prev' href='",(""+window.location.pathname+"?"+$.param(_.extend(MainSearch.predicate(),Filter.predicate(),{page:prev_page}))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+prev_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Prev</a>\n        ")}if(__p.push("\n    </div>\n\n    <div class='pagination counter'>\n        <p>Page ",(""+current_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," of ",(""+(0==total_pages?1:total_pages)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," </p>\n    </div>\n\n    <div class='pagination next'>\n        "),current_page!==total_pages&&0!==total_pages){__p.push("\n            ");var next_page=Number(current_page)+1;__p.push("\n            <a class='page next' href='",(""+window.location.pathname+"?"+$.param(_.extend(MainSearch.predicate(),Filter.predicate(),{page:next_page}))).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' rel='",(""+next_page).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"'>Next</a>\n        ")}__p.push("\n    </div>\n\n    <br class='clear'>\n</div>\n")}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/photos_index"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='photos_index_container'>\n    <h1>Photos: <a href=\"",("/"+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" id='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a></h1>\n    \n    <div id='photos_gallery_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_establishment_container' class='search_container card border'>\n        <h3>Search for a Restaurant</h3>\n\n        <form id='establishment_search_form'>\n            <div class='field'>\n                <label for='query'>Restaurant Name:</label><br>\n                <input id='query' class='text_input' type='text' autocomplete='off' placeholder='Brickhouse Cafe' autofocus>\n            </div>\n\n            <div class='field'>\n                <label for='location'>Near:</label><br>\n                <input id='location' class='text_input' type='text' autocomplete='off' value=\"",(""+EstablishmentSearch.get("location_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n            </div>\n\n            <div class='center'>\n                <input class='btn text' type='submit' value='Submit'>\n            </div>\n        </form>\n    </div>\n\n    <div id='find_establishment_results_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search_establishment"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='establishment_info'>\n    <div class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n\n    <div class='details'>",(""+get("formatted_address")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</div>\n</div>\n\n<div class='endorse_btn_container btn_container'>\n    "),CurrentUser.get("id")?__p.push("\n        <a class='create_btn btn text'>Endorse</a>\n    "):__p.push("    \n        <a href='/users/sign_up' class='btn text'>Endorse</a>\n    "),__p.push("\n</div>\n\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/search_suggestion_list"]=function(obj){var __p=[];with(obj||{})__p.push("<ul id='find_establishment_results' class='establishments_list card border grey'></ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='establishment_show_container'>\n    <div class='column left_column'>\n        <div id='establishment_info_container' class='card border'></div>\n\n        <div id='establishment_comments_container' class='card border grey'>\n            <div id='comments_form_container'></div>\n\n            <ul id='comments_list'></ul>\n\n            <div class='pagination_container comments'></div>\n        </div>\n    </div>\n    \n    <div class=\"column right_column\">\n        <div class='map_canvas_container'></div>\n        \n        <div id='endorsers_list_container' class='card border grey'>\n            <h3>Endorsers</h3>\n            <ul id='endorsers_list' class='users_list'></ul>\n            <div class='pagination_container endorsers'></div>\n        </div>\n    </div>\n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_hours"]=function(obj){var __p=[];with(obj||{})__p.push("<table></table>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_info"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='establishment_info left_column'>\n    <p class='biz_name'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n\n    "),get("street_number")&&get("street")&&(__p.push('\n        <p class="details">',(""+get("street_number")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("street")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n\n        "),get("city")&&get("state")&&get("zip_code")&&__p.push("\n            <p class='details'>",(""+get("city")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),", ",(""+get("state")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," ",(""+get("zip_code")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n        "),__p.push("\n    ")),__p.push("\n    \n    "),get("phone")&&__p.push('\n        <p class="details phone">',(""+get("phone")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <div class='details extra'>\n        <p class='price'>",get("price_symbol")?get("price_symbol"):"","</p>\n        "),get("website")&&__p.push('\n            <a class="details website" href="',(""+get("website")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" target='_blank'>",(""+get("formatted_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n        "),__p.push("\n        <br class='clear'>\n    </div>\n    \n    <div class='hours_container'></div>\n    <div class='endorse_btn_container'></div>\n</div>\n\n<div class='right_column'>\n    <div id='establishment_photos_container'></div>\n</div>\n\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/establishments/show_establishment_info_photo"]=function(obj){var __p=[];with(obj||{})__p.push("<a href='",(""+get("photos_path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' id='photos_preview_container'></a>\n<div id='photos_upload_forms_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followed_users/index_followed_users_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="followed_users_container">\n    <ul class=\'followed_users users_list\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followed_users/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li>",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," isn't following anyone yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followers/index_followers_list_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="followers_container">\n    <ul class=\'followers users_list\'>\n        <img alt="Throbber sm" src="/assets/throbber_sm-43bd6bd9f3cccc4f6b2a82d162d242b5.gif" />\n    </ul>\n    <div class=\'pagination_container\'></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/followers/index_no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<li>No one is following ",(""+get("first_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," yet.</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/main/index"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='main_index_establishments_container'>\n    <div id='main_filter_container'></div>\n\n    <div id='establishments_list_container' class='card border'>\n        <ol class='establishments_list'></ol>\n        <div class='pagination_container'></div>\n    </div>\n\n    <div class='map_canvas_container'></div>\n\n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/gallery"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='flexslider_container'>\n    <div class='flexslider'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/media_viewer"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='flex-viewport'>\n    <ul class='slides'></ul>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/media_viewer_photo"]=function(obj){var __p=[];with(obj||{})__p.push('<img src="',(""+get("medium_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n<div class='flex-caption'>\n    <a class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n\n    "),get("caption")&&__p.push("\n        <p class='caption'>",(""+get("caption")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <p class='date'>",(""+get("formatted_time")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n</div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/no_results"]=function(obj){var __p=[];with(obj||{})__p.push("<p id='no_results_message' class='card'>",(""+get("name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")," doesn't have any photos, yet!</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/photo_upload_caption_form"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='caption_form_container'>\n    <h1>Add a Caption</h1>\n    \n    <img src=\"",(""+get("medium_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\">\n\n    <form id='caption_form'>\n        <input id='caption_input' class='text_input' type='text' maxlength='100'>\n        <div id='char_counter'>Characters remaining: <span>100</span></div>\n\n        <input type='submit' class='btn text'>\n        <a class='skip'>Skip</a>\n    </form>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/photo_upload_forms"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='upload_image_form_container'></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/photo_upload_image_form"]=function(obj){var __p=[];with(obj||{})__p.push('<div id=\'photo_upload_form_container\'>\n    <label>Add Photos<button><img alt="Camera icon" src="/assets/camera_icon-75c5a14baac60aadac5a44aa73cd12ef.svg" /></button></label>\n\n    '),CurrentUser.get("id")&&__p.push('\n        <form id=\'photo_upload_form\' method="post" enctype="multipart/form-data" action=\'/api/users/photo\'>\n            <input name="authenticity_token" value="',(""+$('meta[name="csrf-token"]')[0].content).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" type="hidden">\n            <input name="establishment_id" value="',(""+get("id")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" type=\"hidden\">\n            <input type='file' name='image' capture='camera'>\n        </form>\n\n        <div class='upload_throbber_container'></div>\n        <div id='upload_caption_form_container'></div>\n    "),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/photos/preview_photo"]=function(obj){var __p=[];with(obj||{})__p.push("<img class='preview_photo' src=\"",(""+get("thumb_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/access_token_login"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',(""+obj.renew_url).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n    <img alt="Fb find friends" class="facebook" src="/assets/fb_find_friends-3da2f10b1ab63dd4fc460329fe4a2c9e.svg" />\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/find_facebook_friends"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Facebook Friends on YumHacker</h3>\n        <div class='done'>\n            <a class='btn text nav' href=\"/\">Done</a>\n        </div>\n    </div>\n        \n    <div id='find_user_results_container'></div>\n    \n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/index_user"]=function(obj){var __p=[];with(obj||{})__p.push("<div class='user_container'>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user img'><img src=\"",(""+get("avatar_url_thumb")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\"></a>\n    <a href='/",(""+get("path")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"' class='user name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n</div>\n<div class='follow_btn_container'></div>\n<br class='clear'>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/search"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Search for Friends</h3>\n\n        "),"facebook"===CurrentUser.get("provider")&&__p.push('\n            <a id=\'find_friends_button\' href="/users/find_facebook_friends">\n                <img alt="Fb find friends" class="facebook" src="/assets/fb_find_friends-3da2f10b1ab63dd4fc460329fe4a2c9e.svg" />\n            </a>\n            <p class=\'or\'>- or -</p>\n        '),__p.push("\n\n        <form id='user_search_form'>\n\n            <div class='field'>\n                <label for='query'>Search by first name, last name, or email:</label><br>\n                <input id='query' type='text' autocomplete='off' placeholder='bob.smith@example.com' autofocus class='text_input'>\n            </div>\n\n            <div class='center'>\n                <input class='btn text' type='submit' value='Submit'>\n            </div>\n        </form>\n    </div>\n        \n    <div id='find_user_results_container'></div>\n    \n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/search_suggestion_list"]=function(obj){var __p=[];with(obj||{})__p.push("<ul id='find_user_results' class='users_list card border grey'></ul>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='user_show_container'>\n    <div id='user_model_container' class='column'></div>\n\n    <div id='following_container' class='column'></div>\n    <br class='clear'>\n\n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_following_container"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="card" id=\'follow_tabs_container\'>\n    <a href="',(""+get("endorsements_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" id=\'endorsements_tab\' class="tab">Endorsements: ',(""+get("num_endorsements")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n    <a href="',(""+get("following_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" id=\'followed_users_tab\' class="tab">Following: ',(""+get("num_followed_users")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n    <a href="',(""+get("followers_url")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" id=\'followers_tab\' class="tab">Followers: ',(""+get("num_followers")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n    <br class='clear'>\n</div>\n\n<div class=\"following_list_container card\"></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/show_user"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='profile_container' class='card border'>\n    <div class='photo_container'>\n        <img src=\"",(""+get("avatar_url_small")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"\" >\n    </div>\n\n    <h1 class='user_name'>",(""+get("full_name")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h1>\n\n    "),get("location")&&__p.push("\n        <p class='location'>",(""+get("location")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</p>\n    "),__p.push("\n\n    <div class='follow_btn_container'>\n        <a href='/users/edit' class='edit btn text'>Edit Profile</a>\n    </div>\n</div>\n");
return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/users/sign_up_find_facebook_friends"]=function(obj){var __p=[];with(obj||{})__p.push("<div id='search_wrapper'>\n    <div id='find_user_container' class='search_container card border'>\n        <h3>Your Facebook Friends on YumHacker</h3>\n        <h4>You're following all of your Facebook friends on YumHacker!</h4>\n        <div class='done'>\n            <a class='btn text nav' href=\"/\">Done</a>\n        </div>\n    </div>\n\n    \n    <div id='find_user_results_container'></div>\n    \n    <div id='login_modal_container'></div>\n</div>\n");return __p.join("")}}.call(this),AuthenticationOptionsView=Backbone.View.extend({events:{"click .cancel":"hideModal"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/authentication_options"))},hideModal:function(){$("#login_modal_container").fadeOut("60")}}),ContactView=Backbone.View.extend({events:{"click .nav":"goToSubIndex"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/contact")),window.scrollTo(0,0)},goToSubIndex:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),ApplicationEndorseButtonView=Backbone.View.extend({events:{"click .endorse_btn":"toggleEndorsing"},initialize:function(e){this.model=new EndorseButton,this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"change",this.render),this.model.set({establishment_id:e.establishment.get("id"),user_endorsing:e.establishment.get("user_endorsing")},{silent:!0}),this.render()},render:function(){this.$el.html(render("application/endorse_button",this.model))},toggleEndorsing:function(e){e.preventDefault(),this.model.toggle()}}),FilterView=Backbone.View.extend({events:{"click #from_followed":"toggleFromFollowed","change #radius_select":"changeRadius"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/filter"))},toggleFromFollowed:function(e){Filter.set("from_followed",$(e.target).prop("checked"))},changeRadius:function(e){Filter.set("radius",e.target.value)}}),ApplicationFollowButtonView=Backbone.View.extend({events:{"click .follow_btn":"toggleFollowing"},initialize:function(e){e.user.get("id")!=CurrentUser.get("id")&&(this.model=new FollowButton,this.listenTo(this.model,"sync",this.render),this.listenTo(this.model,"change",this.render),this.model.set({user_id:e.user.get("id"),following:e.user.get("following")},{silent:!0}),this.render())},render:function(){this.$el.html(render("application/follow_button",this.model))},toggleFollowing:function(e){e.preventDefault(),this.model.toggle()}}),FooterView=Backbone.View.extend({events:{"click a":"goToSubIndex"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/footer"))},goToSubIndex:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),HeaderView=Backbone.View.extend({events:{"click .nav":"goToSubIndex"},initialize:function(){this.render(),this.main_search_view=new MainSearchView({el:"#establishment_search_container"})},render:function(){this.$el.html(""),this.$el.html(render("application/header",CurrentUser))},goToSubIndex:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),MainSearchView=Backbone.View.extend({events:{submit:"getLatLng","click #nearby_btn":"getUserLocation","click .nav":"goToSubIndex"},initialize:function(){this.render(),this.geolocations=new GeolocationCollection,this.listenTo(this.geolocations,"reset",this.updateLatLng),this.listenTo(MainSearch,"change",this.render)},render:function(){this.$el.html(render("application/main_search"))},getLatLng:function(e){e.preventDefault(),this.geolocations.fetch({reset:!0,data:{query:e.target[1].value}})},updateLatLng:function(){var e;this.geolocations.length>0&&(e=this.geolocations.models[0],MainSearch.set({lat:e.get("lat"),lng:e.get("lng"),location_name:e.get("formatted_address")}),""!==Backbone.history.fragment&&App.navigate("/",{trigger:!0}))},toggleFromFollowed:function(e){MainSearch.set("from_followed",$(e.target).prop("checked"))},getUserLocation:function(){getCurrentLocation(function(e){MainSearch.set({lat:e.coords.latitude,lng:e.coords.longitude,location_name:"Current Location"}),""!==Backbone.history.fragment&&App.navigate("/",{trigger:!0})})},goToSubIndex:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),MapView=new(Backbone.View.extend({events:{},initialize:function(){this.markers=[],this.mapOptions=(new GoogleMap).get("options"),this.mapCanvas=$("<div>",{id:"map_canvas"}),this.map=new google.maps.Map(this.mapCanvas[0],this.mapOptions)},render:function(){this.clearMarkers(),this.mapCanvas.appendTo(this.el),google.maps.event.trigger(this.map,"resize")},resetMap:function(){this.render(),this.map.setCenter(new google.maps.LatLng(MainSearch.get("lat"),MainSearch.get("lng"))),this.resetMarkers()},resetMarkers:function(){var e=1/(60*1.15078),t=MainSearch.get("lat"),n=MainSearch.get("lng"),i=t+.1*e,r=n+.1*e,o=t-.1*e,a=n-.1*e,s=new google.maps.LatLng(i,r),l=new google.maps.LatLng(o,a);this.bounds=new google.maps.LatLngBounds(l,s),this.markers.length&&this.clearMarkers(),this.collection.each(function(e,t){this.renderMarker(e,t)},this),this.map.fitBounds(this.bounds)},clearMarkers:function(){_.each(this.markers,function(e){e.remove()}),this.markers=[]},renderMarker:function(e,t){var n=new google.maps.LatLng(e.get("lat"),e.get("lng"));marker=new MapMarker(e,this.map,t),this.bounds&&this.bounds.extend(n),this.markers.push(marker)},renderEstablishmentMap:function(){this.clearMarkers(),this.mapCanvas.appendTo(this.el),google.maps.event.trigger(this.map,"resize"),this.map.setCenter(new google.maps.LatLng(this.model.get("lat"),this.model.get("lng"))),this.map.setZoom(17),this.renderMarker(this.model,10)}})),PaginationView=Backbone.View.extend({events:{"click a.page":"pageChange"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(render("application/pagination",this.collection))},pageChange:function(e){e.preventDefault(),e.target.rel&&this.collection.trigger("paginate",Number(e.target.rel))}}),PrivacyView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/privacy")),window.scrollTo(0,0)}}),TermsView=Backbone.View.extend({events:{"click a.toggle":"toggleTerms"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("application/terms")),window.scrollTo(0,0),this.startStream()},toggleTerms:function(){$("canvas").hide(),$(".toggle").hide(),$(".boring_terms").show()},startStream:function(){function e(e){this.word=e,this.y=30,this.y0=30,this.x=l/2,this.color="#313136",this.time=0,this.draw=function(){a.textBaseline="middle",a.textAlign="center",a.fillStyle=this.color,a.font="20px Arial",a.fillText(this.word,this.x,this.y)}}function t(t){c.push(new e(t))}function n(){_.each(c,function(e){e.y>=s-50?e.y=s-30:(e.y=e.y0+.5*u*Math.pow(e.time,2),e.time+=h,e.color="rgba(0,0,0,0.3)")})}function i(){_.each(c,function(e){e.draw()}),n()}function r(){c.length<d.length&&t(d[c.length]),a.clearRect(0,0,l,s),i(),setTimeout(r,h)}var o=$("canvas")[0],a=o.getContext("2d"),s=700,l=800,c=[],u=1e-4,h=70,d=this.tos;o.height=s,o.width=l,r()},tos:"Terms of Service:   The following terms and conditions govern all use of the yumhacker.com website and all content, services and products available at or through the website (the Website). The Website is owned and operated by YumHacker. (“YumHacker”). The Website is offered subject to your acceptance without modification of all of the terms and conditions contained herein and all other operating rules, policies (including, without limitation, YumHacker’s Privacy Policy) and procedures that may be published from time to time on this Site by YumHacker (collectively, the “Agreement”). Please read this Agreement carefully before accessing or using the Website. By accessing or using any part of the web site, you agree to become bound by the terms and conditions of this agreement. If you do not agree to all the terms and conditions of this agreement, then you may not access the Website or use any services. If these terms and conditions are considered an offer by YumHacker, acceptance is expressly limited to these terms. Your yumhacker.com Account and Site. If you create an account on the Website, you are responsible for maintaining the security of your account, and you are fully responsible for all activities that occur under the account and any other actions taken in connection with the account. You must not describe or assign keywords to your account in a misleading or unlawful manner, including in a manner intended to trade on the name or reputation of others, and YumHacker may change or remove any description or keyword that it considers inappropriate or unlawful, or otherwise likely to cause YumHacker liability. You must immediately notify YumHacker of any unauthorized uses of your account, your account or any other breaches of security. YumHacker will not be liable for any acts or omissions by You, including any damages of any kind incurred as a result of such acts or omissions. Responsibility of Contributors. If you operate an account, comment on a account, post material to the Website, post links on the Website, or otherwise make (or allow any third party to make) material available by means of the Website (any such material, “Content”), You are entirely responsible for the content of, and any harm resulting from, that Content. That is the case regardless of whether the Content in question constitutes text, graphics, an audio file, or computer software. By making Content available, you represent and warrant that: the downloading, copying and use of the Content will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark or trade secret rights, of any third party; if your employer has rights to intellectual property you create, you have either (i) received permission from your employer to post or make available the Content, including but not limited to any software, or (ii) secured from your employer a waiver as to all rights in or to the Content; you have fully complied with any third-party licenses relating to the Content, and have done all things necessary to successfully pass through to end users any required terms; the Content does not contain or install any viruses, worms, malware, Trojan horses or other harmful or destructive content; the Content is not spam, is not machine- or randomly-generated, and does not contain unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing); the Content is not pornographic, does not contain threats or incite violence, and does not violate the privacy or publicity rights of any third party; your account is not getting advertised via unwanted electronic messages such as spam links on newsgroups, email lists, other accounts and web sites, and similar unsolicited promotional methods; your account is not named in a manner that misleads your readers into thinking that you are another person or company. For example, your account’s URL or name is not the name of a person other than yourself or company other than your own; and you have, in the case of Content that includes computer code, accurately categorized and/or described the type, nature, uses and effects of the materials, whether requested to do so by YumHacker or otherwise. By submitting Content to YumHacker for inclusion on your Website, you grant YumHacker a world-wide, royalty-free, and non-exclusive license to reproduce, modify, adapt and publish the Content solely for the purpose of displaying, distributing and promoting your account. If you delete Content, YumHacker will use reasonable efforts to remove it from the Website, but you acknowledge that caching or references to the Content may not be made immediately unavailable. Without limiting any of those representations or warranties, YumHacker has the right (though not the obligation) to, in YumHacker’s sole discretion (i) refuse or remove any content that, in YumHacker’s reasonable opinion, violates any YumHacker policy or is in any way harmful or objectionable, or (ii) terminate or deny access to and use of the Website to any individual or entity for any reason, in YumHacker’s sole discretion. YumHacker will have no obligation to provide a refund of any amounts previously paid. Responsibility of Website Visitors. YumHacker has not reviewed, and cannot review, all of the material, including computer software, posted to the Website, and cannot therefore be responsible for that material’s content, use or effects. By operating the Website, YumHacker does not represent or imply that it endorses the material there posted, or that it believes such material to be accurate, useful or non-harmful. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. The Website may contain content that is offensive, indecent, or otherwise objectionable, as well as content containing technical inaccuracies, typographical mistakes, and other errors. The Website may also contain material that violates the privacy or publicity rights, or infringes the intellectual property and other proprietary rights, of third parties, or the downloading, copying or use of which is subject to additional terms and conditions, stated or unstated. YumHacker disclaims any responsibility for any harm resulting from the use by visitors of the Website, or from any downloading by those visitors of content there posted. Content Posted on Other Websites. We have not reviewed, and cannot review, all of the material, including computer software, made available through the websites and webpages to which yumhacker.com links, and that link to yumhacker.com. YumHacker does not have any control over those non-yumhacker.com websites and webpages, and is not responsible for their contents or their use. By linking to a non-yumhacker.com website or webpage, YumHacker does not represent or imply that it endorses such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. YumHacker disclaims any responsibility for any harm resulting from your use of non-yumhacker.com websites and webpages. Copyright Infringement and DMCA Policy. As YumHacker asks others to respect its intellectual property rights, it respects the intellectual property rights of others. If you believe that material located on or linked to by yumhacker.com violates your copyright, you are encouraged to notify YumHacker in accordance with YumHacker’s Digital Millennium Copyright Act (“DMCA”) Policy. YumHacker will respond to all such notices, including as required or appropriate by removing the infringing material or disabling all links to the infringing material. YumHacker will terminate a visitor’s access to and use of the Website if, under appropriate circumstances, the visitor is determined to be a repeat infringer of the copyrights or other intellectual property rights of YumHacker or others. In the case of such termination, YumHacker will have no obligation to provide a refund of any amounts previously paid to YumHacker. Intellectual Property. This Agreement does not transfer from YumHacker to you any YumHacker or third party intellectual property, and all right, title and interest in and to such property will remain (as between the parties) solely with YumHacker. YumHacker, yumhacker, yumhacker.com, the yumhacker.com logo, and all other trademarks, service marks, graphics and logos used in connection with yumhacker.com, or the Website are trademarks or registered trademarks of YumHacker or YumHacker’s licensors. Other trademarks, service marks, graphics and logos used in connection with the Website may be the trademarks of other third parties. Your use of the Website grants you no right or license to reproduce or otherwise use any YumHacker or third-party trademarks. Advertisements. YumHacker reserves the right to display advertisements on your account. Changes. YumHacker reserves the right, at its sole discretion, to modify or replace any part of this Agreement. It is your responsibility to check this Agreement periodically for changes. Your continued use of or access to the Website following the posting of any changes to this Agreement constitutes acceptance of those changes. YumHacker may also, in the future, offer new services and/or features through the Website (including, the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement. Termination. YumHacker may terminate your access to all or any part of the Website at any time, with or without cause, with or without notice, effective immediately. If you wish to terminate this Agreement or your yumhacker.com account (if you have one), you may simply discontinue using the Website. All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability. Disclaimer of Warranties. The Website is provided “as is”. YumHacker and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither YumHacker nor its suppliers and licensors, makes any warranty that the Website will be error free or that access thereto will be continuous or uninterrupted. You understand that you download from, or otherwise obtain content or services through, the Website at your own discretion and risk. Limitation of Liability. In no event will YumHacker, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement for substitute products or services; (iii) for interruption of use or loss or corruption of data; or (iv) for any amounts that exceed the fees paid by you to YumHacker under this agreement during the twelve (12) month period prior to the cause of action. YumHacker shall have no liability for any failure or delay due to matters beyond their reasonable control. The foregoing shall not apply to the extent prohibited by applicable law. General Representation and Warranty. You represent and warrant that (i) your use of the Website will be in strict accordance with the YumHacker with this Agreement and with all applicable laws and regulations (including without limitation any local laws or regulations in your country, state, city, or other governmental area, regarding online conduct and acceptable content, and including all applicable laws regarding the transmission of technical data exported from the United States or the country in which you reside) and (ii) your use of the Website will not infringe or misappropriate the intellectual property rights of any third party. Indemnification. You agree to indemnify and hold harmless YumHacker, its contractors, and its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys’ fees, arising out of your use of the Website, including but not limited to your violation of this Agreement. Miscellaneous. This Agreement constitutes the entire agreement between YumHacker and you concerning the subject matter hereof, and they may only be modified by a written amendment signed by an authorized executive of YumHacker, or by the posting by YumHacker of a revised version. Except to the extent applicable law, if any, provides otherwise, this Agreement, any access to or use of the Website will be governed by the laws of the state of California, U.S.A., excluding its conflict of law provisions, and the proper venue for any disputes arising out of or relating to any of the same will be the state and federal courts located in San Francisco County, California. Except for claims for injunctive or equitable relief or claims regarding intellectual property rights (which may be brought in any competent court without the posting of a bond), any dispute arising under this Agreement shall be finally settled in accordance with the Comprehensive Arbitration Rules of the Judicial Arbitration and Mediation Service, Inc. (“JAMS”) by three arbitrators appointed in accordance with such Rules. The arbitration shall take place in San Francisco, California, in the English language and the arbitral decision may be enforced in any court. The prevailing party in any action or proceeding to enforce this Agreement shall be entitled to costs and attorneys’ fees. If any part of this Agreement is held invalid or unenforceable, that part will be construed to reflect the parties’ original intent, and the remaining portions will remain in full force and effect. A waiver by either party of any term or condition of this Agreement or any breach thereof, in any one instance, will not waive such term or condition or any subsequent breach thereof. You may assign your rights under this Agreement to any party that consents to, and agrees to be bound by, its terms and conditions; YumHacker may assign its rights under this Agreement without condition. This Agreement will be binding upon and will inure to the benefit of the parties, their successors and permitted assigns.".split(" ")}),UploadThrobberView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("application/upload_throbber"))}}),CommentsIndexCommentFormView=Backbone.View.extend({events:{submit:"handleSubmit"},initialize:function(){this.render()},render:function(){this.$el.html(""),this.$el.html(render("comments/index_comment_form",this.model)),$("#comment_input").on("focus",function(){$("#comment_form").animate({"margin-bottom":0},200,function(){$("#char_counter").animate({opacity:"1"},0)})}).on("keyup",function(){$("#char_counter span").html(100-$(this).val().length)})},handleSubmit:function(e){function t(e){e.set("created_at",moment().utc().format()),i.collection.add(e)}e.preventDefault();var n=e.target[0].value;$.trim(n),CurrentUser.get("id")?n&&n.length<=255?(this.new_comment=new Comment({body:n,establishment_id:this.model.get("id")}),this.new_comment.save({},{success:t}),$("#comment_input").val("")):alert("Comments cannot be blank and have a character limit of 100 characters."):this.showAuthenticationOpts();var i=this},showAuthenticationOpts:function(){$("#login_modal_container").fadeIn("60")}}),CommentsIndexCommentListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.render),this.listenTo(this.collection,"add",this.newComment),this.listenTo(this.collection,"paginate",this.paginate),this.listenTo(this.collection,"request",this.showThrobber),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id")}})},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderComment(e)},this),window.scrollTo(0,0)},renderComment:function(e){var t=new CommentsIndexCommentView({tagName:"li",model:e,className:"comment"});this.$el.append(t.el)},newComment:function(){this.collection.length>this.collection.per_page?this.collection.pop():this.render()},paginate:function(e){this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id"),page:e}})},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),CommentsIndexCommentView=Backbone.View.extend({events:{"click .delete_comment":"deleteComment","click .user_name, a.avatar":"goToUserShow"},initialize:function(){var e=new Date(this.model.get("created_at")),t=moment(e).format("MMM Do YYYY, h:mm a");this.model.set("formatted_time",t),this.render()},render:function(){this.$el.html(render("comments/index_comment",this.model))},deleteComment:function(){CurrentUser.get("id")==this.model.get("user_id")&&this.model.destroy()},goToUserShow:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),CommentsIndexView=Backbone.View.extend({events:{},initialize:function(){this.collection=new CommentCollection,this.comments_index_comments_form_view=new CommentsIndexCommentFormView({el:"#comments_form_container",model:this.model,collection:this.collection}),this.comments_index_comments_list_view=new CommentsIndexCommentListView({el:"#comments_list",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container.comments",collection:this.collection})},render:function(){}}),EndorsementsIndexEstablishmentView=Backbone.View.extend({events:{"click .biz_name":"goToEstablishmentShow"},initialize:function(){this.render(),this.application_endorse_button_view=new ApplicationEndorseButtonView({el:this.$(".endorse_btn_container"),establishment:this.model})},render:function(){this.$el.html(render("endorsements/index_establishment",this.model))},goToEstablishmentShow:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),EndorsementsIndexListContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new EndorsementCollection,this.render()},render:function(){this.$el.html(render("endorsements/index_endorsement_list_container",this.model)),this.endorsementsIndexListView=new EndorsementsIndexListView({el:"ul.endorsements",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection})}}),EndorsementsIndexListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"paginate",this.paginate);var e=_.extend(MainSearch.predicate(),{user_id:this.model.get("id")});this.collection.fetch({reset:!0,data:e})},render:function(){this.collection.length>0?(this.$el.html(""),this.collection.each(function(e){this.renderEndorsement(e)},this),window.scrollTo(0,0)):this.$el.html(render("endorsements/index_no_results",this.model))},renderEndorsement:function(e){var t=new EndorsementsIndexEstablishmentView({tagName:"li",model:e});this.$el.append(t.el)},paginate:function(e){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id"),page:e}})}}),EstablishmentHourView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("establishments/establishment_hour",this.model))}}),FollowedEndorserView=Backbone.View.extend({events:{"click a.user":"goToUserShow"},initialize:function(){this.render(),this.listenTo(this.model,"remove",this.remove)},render:function(){this.$el.html(render("establishments/followed_endorser",this.model))},goToUserShow:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),FollowedEndorsersListView=Backbone.View.extend({initialize:function(){this.collection=new FollowedEndorserCollection,this.listenTo(this.collection,"reset",this.render),this.collection.reset(this.model.get("endorsing_users"))},render:function(){this.$el.html(""),this.collection.length>0&&(this.$el.html(render("establishments/followed_endorser_list",this.model)),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new FollowedEndorserView({tagName:"li",model:e});e.id!==CurrentUser.id&&this.$(".endorsers_list").append(t.el)}}),EstablishmentsIndexEstablishmentHoursView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderTodaysHours()},render:function(){this.$el.html(render("establishments/index_establishment_hours",this.collection))},renderTodaysHours:function(){var e,t={},n=Number(moment().format("d"));e=1===this.collection.length&&Number(this.collection.models[0].get("open_time"))==Number(this.collection.models[0].get("close_time"))?[this.collection.models[0]]:this.collection.where({open_day:n}),e.length>0&&(t.day=n,t.hours=e,this.hour_view=new EstablishmentHourView({model:t,tagName:"tr"}),this.$("table").append(this.hour_view.el))}}),EstablishmentsIndexEstablishmentView=Backbone.View.extend({events:{"click .biz_name":"goToEstablishmentShow"},initialize:function(){this.render(),this.application_endorse_button_view=new ApplicationEndorseButtonView({el:this.$(".endorse_btn_container"),establishment:this.model}),this.hours_view=new EstablishmentsIndexEstablishmentHoursView({el:this.$(".hours_container"),collection:this.model.hours}),CurrentUser.get("id")&&(this.followed_endorsers_list=new FollowedEndorsersListView({el:this.$(".endorsers_wrapper"),model:this.model}))},render:function(){this.$el.html(render("establishments/index_establishment",this.model))},goToEstablishmentShow:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),EstablishmentsIndexPaginationView=Backbone.View.extend({events:{"click a.page":"goToPage"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(render("establishments/pagination",this.collection))},goToPage:function(e){e.preventDefault(),App.navigate(e.target.pathname+e.target.search,{trigger:!0})}}),EstablishmentsPhotosIndexView=Backbone.View.extend({events:{"click #biz_name":"goToEstablishmentShow"},initialize:function(){this.collection=new PhotoCollection({establishment_id:this.model.get("id")}),this.listenTo(this.model,"sync",this.render),this.model.fetch({reset:!0})},render:function(){this.$el.html(render("establishments/photos_index",this.model)),this.photos_gallery_view=new PhotosGalleryView({collection:this.collection,model:this.model,el:"#photos_gallery_container"}),this.collection.fetch({reset:!0,data:{id:this.model.get("id"),type:"establishment"}})},goToEstablishmentShow:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),EstablishmentsSearchEstablishmentView=Backbone.View.extend({events:{"click .create_btn":"create"},initialize:function(){this.render(),this.listenTo(this.model,"sync",this.goToEstablishmentShow)},render:function(){this.$el.html(render("establishments/search_establishment",this.model))},create:function(){this.model.save()},goToEstablishmentShow:function(){App.navigate(this.model.get("path"),{trigger:!0})}}),EstablishmentsSearchSuggestionListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber)},render:function(){this.$el.html(""),this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("establishments/search_suggestion_list")),this.collection.each(function(e){this.renderEstablishment(e)},this))},renderEstablishment:function(e){var t=new EstablishmentsSearchEstablishmentView({tagName:"li",model:e});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),EstablishmentsSearchView=Backbone.View.extend({events:{submit:"searchForEstablishments"},initialize:function(){this.render(),this.collection=new EstablishmentSuggestionCollection,this.establishment_search_suggestion_list_view=new EstablishmentsSearchSuggestionListView({el:"#find_establishment_results_container",collection:this.collection})},render:function(){this.$el.html(render("establishments/search"))},searchForEstablishments:function(e){e.preventDefault();var t=e.target[0].value,n=e.target[1].value;EstablishmentSearch.set("location_name",n),this.collection.fetch({reset:!0,data:{query:t,location:n}})}}),EstablishmentsShowEndorsersIndexView=Backbone.View.extend({initialize:function(){this.collection=new EndorsersCollection,this.establishments_show_endorsers_list_view=new EstablishmentsShowEndorsersListView({el:"#endorsers_list",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container.endorsers",collection:this.collection})},render:function(){}}),EstablishmentsShowEndorsersListView=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber),this.listenTo(this.collection,"paginate",this.paginate),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id")}})
},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderUser(e)},this),window.scrollTo(0,0)},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});e.id==CurrentUser.id?this.$el.prepend(t.el):this.$el.append(t.el)},paginate:function(e){this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id"),page:e}})},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),EstablishmentsShowEstablishmentHoursView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderHours()},render:function(){this.$el.html(render("establishments/show_establishment_hours"))},renderHours:function(){var e=[];if(1===this.collection.length&&Number(this.collection.models[0].get("open_time"))==Number(this.collection.models[0].get("close_time")))for(var t=0;6>=t;t++){var n=this.collection.models[0];e.push({day:t,hours:[n]})}else for(var t=0;6>=t;t++){var n=this.collection.where({open_day:t});n.length>0&&e.push({day:t,hours:n})}_.each(e,function(e){var t=e.day===Number(moment().format("d"))?"today":"";this.hour_view=new EstablishmentHourView({model:e,tagName:"tr",className:t}),this.$("table").append(this.hour_view.el)},this)}}),EstablishmentShowEstablishmentInfoPhotoView=Backbone.View.extend({events:{"click #photos_preview_container":"goToPhotoIndex"},initialize:function(){this.render(),this.collection=new PreviewPhotoCollection,this.establishment_show_photos_preview_view=new EstablishmentShowPhotosPreviewView({model:this.model,el:"#photos_preview_container",collection:this.collection}),this.photos_upload_forms_view=new PhotosUploadFormsView({model:this.model,el:"#photos_upload_forms_container",collection:this.collection})},render:function(){this.$el.html(render("establishments/show_establishment_info_photo",this.model))},goToPhotoIndex:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),EstablishmentsShowEstablishmentInfoView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.application_endorse_button_view=new ApplicationEndorseButtonView({el:this.$(".endorse_btn_container"),establishment:this.model}),this.establishment_show_establishment_info_photo_view=new EstablishmentShowEstablishmentInfoPhotoView({el:"#establishment_photos_container",model:this.model}),this.hours_view=new EstablishmentsShowEstablishmentHoursView({el:this.$(".hours_container"),collection:this.model.hours})},render:function(){this.$el.html(render("establishments/show_establishment_info",this.model))}}),EstablishmentShowPhotosPreviewView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.render),this.collection.fetch({reset:!0,data:{establishment_id:this.model.get("id")}})},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderPhoto(e)},this)},renderPhoto:function(e){var t=new PhotosPreviewPhotoView({tagName:"div",model:e,className:"preview"});this.$el.append(t.el)}}),EstablishmentsShowView=Backbone.View.extend({initialize:function(){this.listenTo(this.model,"sync",this.render),this.model.fetch()},render:function(){this.$el.html(render("establishments/show",this.model)),this.establishments_show_establishment_info_view=new EstablishmentsShowEstablishmentInfoView({el:"#establishment_info_container",model:this.model}),this.establishments_show_endorsers_index_view=new EstablishmentsShowEndorsersIndexView({el:"#endorsers_list_container",model:this.model}),this.comments_index_view=new CommentsIndexView({el:"#establishment_comments_container",model:this.model}),MapView.el=".map_canvas_container",MapView.model=this.model,MapView.renderEstablishmentMap(),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))}}),FollowedUsersIndexListContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new FollowedUsersCollection,this.render()},render:function(){this.$el.html(render("followed_users/index_followed_users_list_container")),this.followedUsersIndexListView=new FollowedUsersIndexListView({el:"ul.followed_users",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection})}}),FollowedUsersIndexListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"paginate",this.paginate),this.collection.fetch({reset:!0,data:{user_id:this.model.get("id")}})},render:function(){this.$el.html(""),this.collection.length>0?(this.$("ul.followed_users").html(""),this.collection.each(function(e){this.renderUser(e)},this),window.scrollTo(0,0)):this.$el.html(render("followed_users/index_no_results",this.model))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$el.append(t.el)},paginate:function(e){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id"),page:e}})}}),FollowersIndexListContainerView=Backbone.View.extend({events:{},initialize:function(){this.collection=new FollowersCollection,this.render()},render:function(){this.$el.html(render("followers/index_followers_list_container")),this.followersIndexListView=new FollowersIndexListView({el:"ul.followers",model:this.model,collection:this.collection}),this.pagination_view=new PaginationView({el:".pagination_container",collection:this.collection})}}),FollowersIndexListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"paginate",this.paginate),this.collection.fetch({reset:!0,data:{user_id:this.model.get("id")}})},render:function(){this.$el.html(""),this.collection.length>0?(this.$("ul.followers").html(""),this.collection.each(function(e){this.renderUser(e)},this),window.scrollTo(0,0)):this.$el.html(render("followers/index_no_results",this.model))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$el.append(t.el)},paginate:function(e){this.collection.fetch({reset:!0,data:{user_id:this.model.get("id"),page:e}})}}),MainIndexEstablishmentsListView=Backbone.View.extend({events:{"click .nav":"goToSubIndex"},initialize:function(){this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(""),this.collection.length>0?this.collection.each(function(e){this.renderEstablishment(e)},this):(this.$el.html(""),this.$el.html(render("establishments/index_no_results")))},renderEstablishment:function(e){var t=new EstablishmentsIndexEstablishmentView({tagName:"li",model:e});this.$el.append(t.el)},goToSubIndex:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),MainIndexView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.collection=new EstablishmentCollection,this.collection.fetch({reset:!0,data:_.extend(MainSearch.predicate(),Filter.predicate(),this.collection.predicate())}),this.listenTo(MainSearch,"change",function(){App.navigate(window.location.pathname+"?"+$.param(_.extend(MainSearch.predicate(),Filter.predicate())),{trigger:!0,replace:!0})}),this.listenTo(Filter,"change",function(){App.navigate(window.location.pathname+"?"+$.param(_.extend(MainSearch.predicate(),Filter.predicate())),{trigger:!0,replace:!0})}),MapView.el=".map_canvas_container",MapView.collection=this.collection,this.listenTo(this.collection,"reset",function(){MapView.resetMap()}),this.filter_view=new FilterView({el:"#main_filter_container"}),this.main_index_establishments_list_view=new MainIndexEstablishmentsListView({el:".establishments_list",collection:this.collection}),this.pagination_view=new EstablishmentsIndexPaginationView({el:".pagination_container",collection:this.collection}),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))},render:function(){this.$el.html(render("main/index")),this.$(".establishments_list").html(render("application/throbber_small"))}}),PhotosGalleryView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"sync",this.render)},render:function(){this.$el.html(""),this.$el.html(render("photos/gallery")),this.collection.isEmpty()?this.$el.html(render("photos/no_results",this.model)):this.photos_media_viewer_view=new PhotosMediaViewerView({collection:this.collection,el:this.$(".flexslider")})}}),PhotosMediaViewerPhotoView=Backbone.View.extend({events:{"click .user_name":"goToUserShow"},initialize:function(){var e=new Date(this.model.get("created_at")),t=moment(e).format("MMM Do YYYY, h:mm a");this.model.set("formatted_time",t),this.render()},render:function(){this.$el.html(render("photos/media_viewer_photo",this.model)),this.$el.attr("data-thumb",this.model.get("small_url"))},goToUserShow:function(){App.navigate("users/"+this.model.get("user_id"),{trigger:!0})}}),PhotosMediaViewerView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.renderPhotos(),this.$el.flexslider({slideshow:!1,controlNav:"thumbnails",thumbCaptions:!1,controlsContainer:".flex-container",itemWidth:"30px"})},render:function(){this.$el.html(render("photos/media_viewer",this.model))},renderPhotos:function(){this.collection.each(function(e){this.renderPhoto(e)},this)},renderPhoto:function(e){this.photo_view=new PhotosMediaViewerPhotoView({model:e,tagName:"li"}),this.$("ul").append(this.photo_view.el)}}),PhotosPreviewPhotoView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(render("photos/preview_photo",this.model))}}),PhotosUploadCaptionFormView=Backbone.View.extend({events:{submit:"submitCaption","click .skip":"exitCaptionForm"},initialize:function(){this.render()},render:function(){this.$el.html(render("photos/photo_upload_caption_form",this.model)),this.$el.show(),$("#caption_input").on("keyup",function(){$("#char_counter span").html(100-$(this).val().length)})},submitCaption:function(e){e.preventDefault();var t=$.trim(e.target[0].value);t.length<=100?(this.model.save({caption:t}),this.exitCaptionForm()):alert("Captions must be fewer than 255 characters")},remove:function(){return this.undelegateEvents(),this.$el.empty(),this.stopListening(),this},exitCaptionForm:function(){this.$el.fadeOut("100"),this.remove()}}),PhotosUploadFormsImageFormView=Backbone.View.extend({events:{"change #photo_upload_form":"submitPhoto","click button":"showFileBrowser"},initialize:function(){this.render()},render:function(){this.$el.html(render("photos/photo_upload_image_form",this.model)),this.upload_throbber_view=new UploadThrobberView({el:".upload_throbber_container"})},showFileBrowser:function(){CurrentUser.get("id")?$('input[type="file"]').click():this.showAuthenticationOpts()},submitPhoto:function(e){function t(e,t){n.collection.fetch({reset:!0,data:{establishment_id:e.get("establishment_id")}}),n.showCaptionForm(e,t)}if(this.upload_throbber_view.$el.show(),window.File&&window.FileList&&window.FileReader&&$.trim(e.target.value)){var n=this;this.new_photo=new Photo({establishment_id:this.model.get("id"),collection:this.collection}),this.new_photo.readFile(e.target.files[0],t)}$("input[type='file']").val("");var n=this},showCaptionForm:function(e){this.upload_throbber_view.$el.hide(),this.photos_upload_photo_caption_form=new PhotosUploadCaptionFormView({model:e,el:"#upload_caption_form_container"})},showAuthenticationOpts:function(){$("#login_modal_container").fadeIn("60")}}),PhotosUploadFormsView=Backbone.View.extend({events:{},initialize:function(){this.render(),this.photos_upload_forms_image_form_view=new PhotosUploadFormsImageFormView({model:this.model,el:"#upload_image_form_container",collection:this.collection})},render:function(){this.$el.html(render("photos/photo_upload_forms",this.model))}}),UsersEditView=Backbone.View.extend({events:{"click a.expander":"openChangePasswordFields",submit:"showThrobber"},initialize:function(){},openChangePasswordFields:function(){$("#password_fields").show()},showThrobber:function(){$(".update_btn").hide(),$(".throbber").show()}}),UsersFacebookFriendsListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber),params=window.location.search.replace(/^\?code=/,""),""!==params?this.collection.fetch({reset:!0,data:{code:params}}):this.collection.fetch({reset:!0})},render:function(){this.$el.html(""),this.collection.models.length>0&&this.collection.models[0].get("error")?this.$el.html(render("users/access_token_login",this.collection.models[0].get("error"))):this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersFindFacebookFriendsView=Backbone.View.extend({events:{"click .nav":"goToHome"},initialize:function(){this.render(),this.collection=new UserFacebookFriendsCollection,this.user_facebook_friends_list_view=new UsersFacebookFriendsListView({el:"#find_user_results_container",collection:this.collection}),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))},render:function(){this.$el.html(render("users/find_facebook_friends"))},goToHome:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),UsersIndexListView=Backbone.View.extend({events:{},initialize:function(){this.render()},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderUser(e)},this)},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$el.append(t.el)}}),UsersIndexUserView=Backbone.View.extend({events:{"click a.user":"goToUserShow"},initialize:function(){this.render(),this.application_follow_button_view=new ApplicationFollowButtonView({el:this.$(".follow_btn_container"),user:this.model}),this.listenTo(this.model,"remove",this.remove)},render:function(){this.$el.html(render("users/index_user",this.model))},goToUserShow:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),UsersSearchSuggestionListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber)},render:function(){this.$el.html(""),this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersSearchView=Backbone.View.extend({events:{submit:"searchForUsers","click #find_friends_button":"goToFindFbFriends"},initialize:function(){this.render(),this.collection=new UserSuggestionCollection,this.user_search_suggestion_list_view=new UsersSearchSuggestionListView({el:"#find_user_results_container",collection:this.collection}),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))},render:function(){this.$el.html(render("users/search"))},searchForUsers:function(e){e.preventDefault();var t=e.target[0].value;this.collection.fetch({reset:!0,data:{query:t}})},goToFindFbFriends:function(e){e.preventDefault(),App.navigate(e.currentTarget.pathname,{trigger:!0})}}),UsersShowFollowingContainerView=Backbone.View.extend({events:{"click a.tab":"goToSection"},initialize:function(e){this.listenTo(this.model,"sync",this.render),"following"===e.section?this.listenTo(this.model,"sync",this.renderFollowedUsers):"followers"===e.section?this.listenTo(this.model,"sync",this.renderFollowers):this.listenTo(this.model,"sync",this.renderEndorsements)},render:function(){this.$el.html(render("users/show_following_container",this.model))},renderEndorsements:function(){this.endorsementsIndexListContainerView=new EndorsementsIndexListContainerView({el:".following_list_container",model:this.model}),$("#endorsements_tab").addClass("current_tab")},renderFollowedUsers:function(){this.followedUsersIndexListContainerView=new FollowedUsersIndexListContainerView({el:".following_list_container",model:this.model}),$("#followed_users_tab").addClass("current_tab")},renderFollowers:function(){this.followersIndexListContainerView=new FollowersIndexListContainerView({el:".following_list_container",model:this.model}),$("#followers_tab").addClass("current_tab")},goToSection:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),UsersShowUserView=Backbone.View.extend({events:{},initialize:function(){this.model.fetch(),this.listenTo(this.model,"sync",this.render)},render:function(){this.$el.html(render("users/show_user",this.model)),this.model.get("id")!=CurrentUser.get("id")&&(this.application_follow_button_view=new ApplicationFollowButtonView({el:this.$(".follow_btn_container"),user:this.model}))}}),UsersShowView=Backbone.View.extend({initialize:function(e){this.render(),this.users_show_user_view=new UsersShowUserView({el:"#user_model_container",model:this.model,section:e.section}),this.users_show_following_container=new UsersShowFollowingContainerView({el:"#following_container",model:this.model,section:e.section}),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))},render:function(){this.$el.html(render("users/show"))}}),UsersSignUpFacebookFriendsListView=Backbone.View.extend({events:{},initialize:function(){this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"request",this.showThrobber),params=window.location.search.replace(/^\?code=/,""),""!==params?this.collection.fetch({reset:!0,data:{code:params}}):this.collection.fetch({reset:!0})},render:function(){this.$el.html(""),this.collection.models.length>0&&this.collection.models[0].get("error")?this.$el.html(render("users/access_token_login",this.collection.models[0].get("error"))):this.collection.isEmpty()?this.$el.html(render("application/no_results")):(this.$el.html(render("users/search_suggestion_list")),this.collection.each(function(e){this.renderUser(e)},this))},renderUser:function(e){var t=new UsersIndexUserView({tagName:"li",model:e});this.$("ul").append(t.el)},showThrobber:function(){this.$el.html(render("application/throbber_small"))}}),UsersSignUpFindFacebookFriendsView=Backbone.View.extend({events:{"click .nav":"goToHome"},initialize:function(){this.render(),this.collection=new UserFacebookFriendsCollection,this.user_facebook_friends_list_view=new UsersFacebookFriendsListView({el:"#find_user_results_container",collection:this.collection}),CurrentUser.get("id")||(this.authentication_options_view=new AuthenticationOptionsView({el:"#login_modal_container"}))},render:function(){this.$el.html(render("users/sign_up_find_facebook_friends"))},goToHome:function(e){e.preventDefault(),App.navigate(e.target.pathname,{trigger:!0})}}),Router=Backbone.Router.extend({initialize:function(){this.route(/^restaurants\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+$/,"establishmentsShow"),this.route(/^restaurants\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/photos$/,"establishmentsPhotosIndex")},routes:{"":"mainIndex","_=_":"redirectToHome",restaurants:"establishmentsIndex","restaurants/search":"establishmentsSearch",users:"nothing","users/sign_up/find_facebook_friends":"signUpFindFacebookFriends","users/find_facebook_friends":"findFacebookFriends","users/search":"usersSearch","users/sign_in":"nothing","users/sign_out":"nothing","users/sign_up":"nothing","users/edit":"editProfile","users/:id(/:section)":"usersShow",contact:"contactPage",terms:"termsPage",privacy:"privacyPage"},setup:function(){this.currentView?this.currentView.remove():$("section").html(""),$("<div>",{id:"main_container"}).appendTo("section")},mainIndex:function(){this.setup(),this.currentView=new MainIndexView({el:"#main_container"})},redirectToHome:function(){var e=$.ua.browser.name;e&&"firefox"==e.toLowerCase()?window.location="/":App.navigate("")},establishmentsIndex:function(){this.setup(),this.currentView=new EstablishmentsIndexView({el:"#main_container"})},establishmentsSearch:function(){this.setup(),this.currentView=new EstablishmentsSearchView({el:"#main_container"})},establishmentsShow:function(){var e=window.location.pathname.replace(/.*\//,"");this.setup(),this.currentView=new EstablishmentsShowView({el:"#main_container",model:new Establishment({id:e})})},establishmentsPhotosIndex:function(){var e=window.location.pathname.replace(/\/photos/,"").replace(/.*\//,"");this.setup(),this.currentView=new EstablishmentsPhotosIndexView({el:"#main_container",model:new Establishment({id:e})})},usersShow:function(e,t){this.setup(),this.currentView=new UsersShowView({el:"#main_container",model:new User({id:e}),section:t})},usersSearch:function(){this.setup(),this.currentView=new UsersSearchView({el:"#main_container"})},editProfile:function(){this.currentView=new UsersEditView({el:"section"})},signUpFindFacebookFriends:function(){this.setup(),this.currentView=new UsersSignUpFindFacebookFriendsView({el:"#main_container",model:new User({id:CurrentUser.get("id")})})},findFacebookFriends:function(){this.setup(),this.currentView=new UsersFindFacebookFriendsView({el:"#main_container",model:new User({id:CurrentUser.get("id")})})},contactPage:function(){this.setup(),this.currentView=new ContactView({el:"#main_container"})},termsPage:function(){this.setup(),this.currentView=new TermsView({el:"#main_container"})},privacyPage:function(){this.setup(),this.currentView=new PrivacyView({el:"#main_container"})},nothing:function(){}}),App=new Router,$(window).on("popstate",function(e){null!==e.originalEvent.state&&e.preventDefault()}),$(document).ready(function(){new HeaderView({el:"header"}),new FooterView({el:"footer"}),Backbone.history.start({pushState:!0})});